(function(){"use strict";var e={604:function(e,s,a){var t=a(751),l=a(641);const o={id:"app"};function r(e,s,a,t,r,n){const i=(0,l.g2)("NavBar"),c=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",o,[n.isAuthPage?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(i,{key:0})),(0,l.bF)(c)])}var n=a(33);const i={class:"navbar navbar-expand-lg navbar-dark bg-primary"},c={class:"container"},d={class:"collapse navbar-collapse",id:"navbarNav"},m={class:"navbar-nav me-auto"},u={class:"nav-item"},k={key:0,class:"nav-item"},h={class:"navbar-nav"},p={key:0,class:"nav-item"},b={key:1,class:"nav-item"},v={key:2,class:"nav-item dropdown"},f={class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown"},g={class:"dropdown-menu"};function L(e,s,a,t,o,r){const L=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("nav",i,[(0,l.Lk)("div",c,[(0,l.bF)(L,{class:"navbar-brand",to:"/"},{default:(0,l.k6)(()=>[...s[1]||(s[1]=[(0,l.Lk)("i",{class:"fas fa-star me-2"},null,-1),(0,l.eW)(" Social Platform ",-1)])]),_:1}),s[8]||(s[8]=(0,l.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[(0,l.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,l.Lk)("div",d,[(0,l.Lk)("ul",m,[(0,l.Lk)("li",u,[(0,l.bF)(L,{class:"nav-link",to:"/"},{default:(0,l.k6)(()=>[...s[2]||(s[2]=[(0,l.Lk)("i",{class:"fas fa-home me-1"},null,-1),(0,l.eW)(" Home ",-1)])]),_:1})]),e.isAuthenticated?((0,l.uX)(),(0,l.CE)("li",k,[(0,l.bF)(L,{class:"nav-link",to:"/dashboard"},{default:(0,l.k6)(()=>[...s[3]||(s[3]=[(0,l.Lk)("i",{class:"fas fa-tachometer-alt me-1"},null,-1),(0,l.eW)(" Dashboard ",-1)])]),_:1})])):(0,l.Q3)("",!0)]),(0,l.Lk)("ul",h,[e.isAuthenticated?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",p,[(0,l.bF)(L,{class:"nav-link",to:"/login"},{default:(0,l.k6)(()=>[...s[4]||(s[4]=[(0,l.Lk)("i",{class:"fas fa-sign-in-alt me-1"},null,-1),(0,l.eW)(" Login ",-1)])]),_:1})])),e.isAuthenticated?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",b,[(0,l.bF)(L,{class:"nav-link",to:"/register"},{default:(0,l.k6)(()=>[...s[5]||(s[5]=[(0,l.Lk)("i",{class:"fas fa-user-plus me-1"},null,-1),(0,l.eW)(" Register ",-1)])]),_:1})])),e.isAuthenticated?((0,l.uX)(),(0,l.CE)("li",v,[(0,l.Lk)("a",f,[s[6]||(s[6]=(0,l.Lk)("i",{class:"fas fa-user me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.user?.email),1)]),(0,l.Lk)("ul",g,[(0,l.Lk)("li",null,[(0,l.Lk)("a",{class:"dropdown-item",href:"#",onClick:s[0]||(s[0]=(...s)=>e.logout&&e.logout(...s))},[...s[7]||(s[7]=[(0,l.Lk)("i",{class:"fas fa-sign-out-alt me-1"},null,-1),(0,l.eW)(" Logout ",-1)])])])])])):(0,l.Q3)("",!0)])])])])}var y=a(278),w={name:"NavBar",computed:{...(0,y.L8)("auth",["isAuthenticated","user"])},methods:{...(0,y.i0)("auth",["logout"])}},x=a(262);const C=(0,x.A)(w,[["render",L]]);var E=C,M={name:"App",components:{NavBar:E},computed:{isAuthPage(){return"/login"===this.$route.path||"/register"===this.$route.path}}};const S=(0,x.A)(M,[["render",r]]);var A=S,_=a(499),P=a(335);const F=P.A.create({baseURL:"http://localhost:3000/api",timeout:1e4,headers:{"Content-Type":"application/json"}});F.interceptors.request.use(e=>{const s=localStorage.getItem("token");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e)),F.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));var D=F;const T={user:null,token:localStorage.getItem("token"),loading:!1,error:null},X={SET_LOADING(e,s){e.loading=s},SET_ERROR(e,s){e.error=s},SET_USER(e,s){e.user=s},SET_TOKEN(e,s){e.token=s,s?localStorage.setItem("token",s):localStorage.removeItem("token")},CLEAR_AUTH(e){e.user=null,e.token=null,e.error=null,localStorage.removeItem("token")}},U={async login({commit:e},s){e("SET_LOADING",!0),e("SET_ERROR",null);try{const a=await D.post("/auth/login",s),{token:t,user:l}=a.data;return e("SET_TOKEN",t),e("SET_USER",l),D.defaults.headers.common["Authorization"]=`Bearer ${t}`,{success:!0,user:l}}catch(a){const s=a.response?.data?.message||"Login failed";return e("SET_ERROR",s),{success:!1,error:s}}finally{e("SET_LOADING",!1)}},async register({commit:e},s){e("SET_LOADING",!0),e("SET_ERROR",null);try{const e=await D.post("/auth/register",s);return{success:!0,data:e.data}}catch(a){const s=a.response?.data?.message||"Registration failed";return e("SET_ERROR",s),{success:!1,error:s}}finally{e("SET_LOADING",!1)}},async getCurrentUser({commit:e,state:s}){if(!s.token)return{success:!1};try{const s=await D.get("/auth/me"),{user:a}=s.data;return e("SET_USER",a),{success:!0,user:a}}catch(a){return e("CLEAR_AUTH"),{success:!1}}},async changePassword({commit:e},s){e("SET_LOADING",!0),e("SET_ERROR",null);try{return await D.post("/auth/change-password",s),{success:!0}}catch(a){const s=a.response?.data?.message||"Password change failed";return e("SET_ERROR",s),{success:!1,error:s}}finally{e("SET_LOADING",!1)}},logout({commit:e}){e("CLEAR_AUTH"),delete D.defaults.headers.common["Authorization"]},clearError({commit:e}){e("SET_ERROR",null)}},W={user:e=>e.user,token:e=>e.token,isAuthenticated:e=>!!e.token&&!!e.user,loading:e=>e.loading,error:e=>e.error,isUser:e=>"USER"===e.user?.role,isManager:e=>"MANAGER"===e.user?.role,isAdmin:e=>"ADMIN"===e.user?.role};var R={namespaced:!0,state:T,mutations:X,actions:U,getters:W},$=a(787);const I={socket:null,connected:!1,messages:{},currentChat:null},N={SET_SOCKET(e,s){e.socket=s},SET_CONNECTED(e,s){e.connected=s},SET_CURRENT_CHAT(e,s){e.currentChat=s},ADD_MESSAGE(e,{modelId:s,message:a}){e.messages[s]||(e.messages[s]=[]),e.messages[s].push(a)},SET_MESSAGES(e,{modelId:s,messages:a}){e.messages[s]=a},CLEAR_MESSAGES(e){e.messages={}}},O={connectSocket({commit:e,state:s,rootGetters:a}){if(s.socket)return;const t=a["auth/token"];if(!t)return;const l=(0,$.io)("http://localhost:3000",{auth:{token:t}});l.on("connect",()=>{console.log("Socket connected"),e("SET_CONNECTED",!0)}),l.on("disconnect",()=>{console.log("Socket disconnected"),e("SET_CONNECTED",!1)}),l.on("new_message",s=>{e("ADD_MESSAGE",{modelId:s.model?.id,message:s})}),l.on("error",e=>{console.error("Socket error:",e)}),e("SET_SOCKET",l)},disconnectSocket({commit:e,state:s}){s.socket&&(s.socket.disconnect(),e("SET_SOCKET",null),e("SET_CONNECTED",!1))},joinChat({state:e},s){e.socket&&e.socket.emit("join_chat",{modelId:s})},leaveChat({state:e},s){e.socket&&e.socket.emit("leave_chat",{modelId:s})},sendMessage({state:e},{modelId:s,content:a}){e.socket&&e.socket.emit("send_message",{modelId:s,content:a})},getChatHistory({state:e},{modelId:s,limit:a=50,offset:t=0}){e.socket&&e.socket.emit("get_chat_history",{modelId:s,limit:a,offset:t})},setCurrentChat({commit:e},s){e("SET_CURRENT_CHAT",s)}},j={socket:e=>e.socket,connected:e=>e.connected,currentChat:e=>e.currentChat,messages:e=>e.messages,getMessagesForModel:e=>s=>e.messages[s]||[]};var B={namespaced:!0,state:I,mutations:N,actions:O,getters:j},V=(0,y.y$)({modules:{auth:R,socket:B}});const q={class:"container-fluid py-4"},G={class:"row mb-5"},K={class:"col-12"},Q={class:"jumbotron bg-primary text-white text-center py-5 rounded"},J={key:0,class:"mt-4"},H={key:0,class:"row"},Y={key:1,class:"row"},z={class:"col-12"},Z={class:"alert alert-danger",role:"alert"},ee={key:2,class:"row"},se=["onClick"],ae={class:"position-relative"},te=["src","alt"],le={class:"card-body d-flex flex-column"},oe={class:"card-title"},re={class:"card-text text-muted"},ne={class:"card-text flex-grow-1"},ie={class:"mt-auto"},ce={class:"d-flex justify-content-between align-items-center mb-2"},de={class:"text-muted"},me={class:"text-success fw-bold"},ue={key:3,class:"row"};function ke(e,s,a,t,o,r){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",q,[(0,l.Lk)("div",G,[(0,l.Lk)("div",K,[(0,l.Lk)("div",Q,[s[2]||(s[2]=(0,l.Lk)("h1",{class:"display-4 fw-bold"},"Welcome to Social Platform",-1)),s[3]||(s[3]=(0,l.Lk)("p",{class:"lead"},"Connect with amazing models and subscribe to exclusive content",-1)),e.isAuthenticated?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",J,[(0,l.bF)(i,{to:"/register",class:"btn btn-light btn-lg me-3"},{default:(0,l.k6)(()=>[...s[0]||(s[0]=[(0,l.Lk)("i",{class:"fas fa-user-plus me-2"},null,-1),(0,l.eW)(" Get Started ",-1)])]),_:1}),(0,l.bF)(i,{to:"/login",class:"btn btn-outline-light btn-lg"},{default:(0,l.k6)(()=>[...s[1]||(s[1]=[(0,l.Lk)("i",{class:"fas fa-sign-in-alt me-2"},null,-1),(0,l.eW)(" Login ",-1)])]),_:1})]))])])]),s[10]||(s[10]=(0,l.Lk)("div",{class:"row"},[(0,l.Lk)("div",{class:"col-12"},[(0,l.Lk)("h2",{class:"mb-4"},[(0,l.Lk)("i",{class:"fas fa-users me-2"}),(0,l.eW)(" Featured Models ")])])],-1)),o.loading?((0,l.uX)(),(0,l.CE)("div",H,[...s[4]||(s[4]=[(0,l.Lk)("div",{class:"col-12 text-center"},[(0,l.Lk)("div",{class:"loading"},[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")])])],-1)])])):o.error?((0,l.uX)(),(0,l.CE)("div",Y,[(0,l.Lk)("div",z,[(0,l.Lk)("div",Z,[s[5]||(s[5]=(0,l.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),(0,l.eW)(" "+(0,n.v_)(o.error),1)])])])):((0,l.uX)(),(0,l.CE)("div",ee,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.models,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-lg-4 col-md-6 mb-4"},[(0,l.Lk)("div",{class:"card model-card h-100",onClick:s=>r.viewModel(e.id)},[(0,l.Lk)("div",ae,[(0,l.Lk)("img",{src:e.photoUrl||"https://via.placeholder.com/400x300",class:"card-img-top",alt:`${e.name} ${e.surname}`,style:{height:"300px","object-fit":"cover"}},null,8,te),s[6]||(s[6]=(0,l.Lk)("div",{class:"position-absolute top-0 end-0 m-2"},[(0,l.Lk)("span",{class:"badge bg-success"},[(0,l.Lk)("i",{class:"fas fa-check-circle me-1"}),(0,l.eW)(" Verified ")])],-1))]),(0,l.Lk)("div",le,[(0,l.Lk)("h5",oe,(0,n.v_)(e.name)+" "+(0,n.v_)(e.surname),1),(0,l.Lk)("p",re,(0,n.v_)(e.age)+" years old • "+(0,n.v_)(e.hairColor)+" hair ",1),(0,l.Lk)("p",ne,(0,n.v_)(e.bio.substring(0,100))+(0,n.v_)(e.bio.length>100?"...":""),1),(0,l.Lk)("div",ie,[(0,l.Lk)("div",ce,[(0,l.Lk)("small",de,[s[7]||(s[7]=(0,l.Lk)("i",{class:"fas fa-tag me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.plans.length)+" plans available ",1)]),(0,l.Lk)("small",me," From $"+(0,n.v_)(Math.min(...e.plans.map(e=>e.price)))+"/month ",1)]),s[8]||(s[8]=(0,l.Lk)("button",{class:"btn btn-primary w-100"},[(0,l.Lk)("i",{class:"fas fa-eye me-1"}),(0,l.eW)(" View Profile ")],-1))])])],8,se)]))),128))])),o.loading||0!==o.models.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",ue,[...s[9]||(s[9]=[(0,l.Lk)("div",{class:"col-12 text-center py-5"},[(0,l.Lk)("i",{class:"fas fa-users fa-3x text-muted mb-3"}),(0,l.Lk)("h4",{class:"text-muted"},"No models available yet"),(0,l.Lk)("p",{class:"text-muted"},"Check back later for new models!")],-1)])]))])}var he={name:"SocialHome",data(){return{models:[],loading:!0,error:null}},computed:{...(0,y.L8)("auth",["isAuthenticated"])},async mounted(){await this.fetchModels()},methods:{async fetchModels(){try{this.loading=!0,this.error=null;const e=await D.get("/social/models");this.models=e.data.models}catch(e){console.error("Error fetching models:",e),this.error="Failed to load models. Please try again."}finally{this.loading=!1}},viewModel(e){this.$router.push(`/model/${e}`)}}};const pe=(0,x.A)(he,[["render",ke]]);var be=pe;const ve={class:"container py-4"},fe={key:0,class:"text-center"},ge={key:1,class:"alert alert-danger",role:"alert"},Le={key:2,class:"row"},ye={class:"col-lg-8"},we={class:"card mb-4"},xe={class:"row g-0"},Ce={class:"col-md-4"},Ee=["src","alt"],Me={class:"col-md-8"},Se={class:"card-body"},Ae={class:"card-title"},_e={class:"row mb-3"},Pe={class:"col-sm-6"},Fe={class:"card-text"},De={class:"col-sm-6"},Te={class:"card-text"},Xe={class:"col-sm-6"},Ue={class:"card-text"},We={class:"card-text"},Re={key:0,class:"card mb-4"},$e={class:"card-body"},Ie={class:"ratio ratio-16x9"},Ne={controls:""},Oe=["src"],je={class:"col-lg-4"},Be={class:"card"},Ve={class:"card-body"},qe={key:0,class:"text-center text-muted"},Ge={key:1},Ke={class:"card-body"},Qe={class:"card-title d-flex justify-content-between align-items-center"},Je={class:"badge bg-primary"},He={class:"card-text small text-muted"},Ye={class:"d-flex justify-content-between align-items-center"},ze={class:"text-muted"},Ze=["onClick"],es={class:"modal fade",id:"subscriptionModal",tabindex:"-1","data-bs-backdrop":"static"},ss={class:"modal-dialog"},as={class:"modal-content"},ts={class:"modal-header"},ls={class:"modal-body"},os={key:0,class:"mb-3"},rs={class:"text-muted"},ns={class:"d-flex justify-content-between"},is={class:"d-flex justify-content-between"},cs={class:"mb-3"},ds={class:"row"},ms={class:"col-md-6"},us={class:"mb-3"},ks={class:"col-md-6"},hs={class:"mb-3"},ps={class:"modal-footer"},bs=["disabled"],vs={key:0,class:"spinner-border spinner-border-sm me-2"},fs={key:1,class:"fas fa-credit-card me-2"};function gs(e,s,a,o,r,i){return(0,l.uX)(),(0,l.CE)("div",ve,[r.loading?((0,l.uX)(),(0,l.CE)("div",fe,[...s[7]||(s[7]=[(0,l.Lk)("div",{class:"loading"},[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")])],-1)])])):r.error?((0,l.uX)(),(0,l.CE)("div",ge,[s[8]||(s[8]=(0,l.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),(0,l.eW)(" "+(0,n.v_)(r.error),1)])):r.model?((0,l.uX)(),(0,l.CE)("div",Le,[(0,l.Lk)("div",ye,[(0,l.Lk)("div",we,[(0,l.Lk)("div",xe,[(0,l.Lk)("div",Ce,[(0,l.Lk)("img",{src:r.model.photoUrl||"https://via.placeholder.com/400x600",class:"img-fluid rounded-start h-100",alt:`${r.model.name} ${r.model.surname}`,style:{"object-fit":"cover","min-height":"300px"}},null,8,Ee)]),(0,l.Lk)("div",Me,[(0,l.Lk)("div",Se,[(0,l.Lk)("h1",Ae,(0,n.v_)(r.model.name)+" "+(0,n.v_)(r.model.surname),1),(0,l.Lk)("div",_e,[(0,l.Lk)("div",Pe,[(0,l.Lk)("p",Fe,[s[9]||(s[9]=(0,l.Lk)("i",{class:"fas fa-birthday-cake me-2 text-primary"},null,-1)),s[10]||(s[10]=(0,l.Lk)("strong",null,"Age:",-1)),(0,l.eW)(" "+(0,n.v_)(r.model.age)+" years old ",1)])]),(0,l.Lk)("div",De,[(0,l.Lk)("p",Te,[s[11]||(s[11]=(0,l.Lk)("i",{class:"fas fa-palette me-2 text-primary"},null,-1)),s[12]||(s[12]=(0,l.Lk)("strong",null,"Hair:",-1)),(0,l.eW)(" "+(0,n.v_)(r.model.hairColor),1)])]),(0,l.Lk)("div",Xe,[(0,l.Lk)("p",Ue,[s[13]||(s[13]=(0,l.Lk)("i",{class:"fas fa-paint-brush me-2 text-primary"},null,-1)),s[14]||(s[14]=(0,l.Lk)("strong",null,"Skin:",-1)),(0,l.eW)(" "+(0,n.v_)(r.model.skinColor),1)])])]),(0,l.Lk)("p",We,[s[15]||(s[15]=(0,l.Lk)("strong",null,"About:",-1)),s[16]||(s[16]=(0,l.Lk)("br",null,null,-1)),(0,l.eW)(" "+(0,n.v_)(r.model.bio),1)])])])])]),r.model.videoUrl?((0,l.uX)(),(0,l.CE)("div",Re,[s[18]||(s[18]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-video me-2"}),(0,l.eW)(" Video Preview ")])],-1)),(0,l.Lk)("div",$e,[(0,l.Lk)("div",Ie,[(0,l.Lk)("video",Ne,[(0,l.Lk)("source",{src:r.model.videoUrl,type:"video/mp4"},null,8,Oe),s[17]||(s[17]=(0,l.eW)(" Your browser does not support the video tag. ",-1))])])])])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",je,[(0,l.Lk)("div",Be,[s[22]||(s[22]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-crown me-2"}),(0,l.eW)(" Subscription Plans ")])],-1)),(0,l.Lk)("div",Ve,[0===r.model.plans.length?((0,l.uX)(),(0,l.CE)("div",qe,[...s[19]||(s[19]=[(0,l.Lk)("i",{class:"fas fa-info-circle fa-2x mb-2"},null,-1),(0,l.Lk)("p",null,"No plans available yet",-1)])])):((0,l.uX)(),(0,l.CE)("div",Ge,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.model.plans,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,n.C4)(["card mb-3 border-primary",{"border-success":e.name.toLowerCase().includes("premium")||e.name.toLowerCase().includes("vip")}])},[(0,l.Lk)("div",Ke,[(0,l.Lk)("h6",Qe,[(0,l.eW)((0,n.v_)(e.name)+" ",1),(0,l.Lk)("span",Je," $"+(0,n.v_)(e.price),1)]),(0,l.Lk)("p",He,(0,n.v_)(e.description),1),(0,l.Lk)("div",Ye,[(0,l.Lk)("small",ze,[s[20]||(s[20]=(0,l.Lk)("i",{class:"fas fa-clock me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.duration)+" days ",1)]),(0,l.Lk)("button",{class:"btn btn-primary btn-sm",onClick:s=>i.subscribe(e)},[...s[21]||(s[21]=[(0,l.Lk)("i",{class:"fas fa-credit-card me-1"},null,-1),(0,l.eW)(" Subscribe ",-1)])],8,Ze)])])],2))),128))]))])])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",es,[(0,l.Lk)("div",ss,[(0,l.Lk)("div",as,[(0,l.Lk)("div",ts,[s[23]||(s[23]=(0,l.Lk)("h5",{class:"modal-title"},[(0,l.Lk)("i",{class:"fas fa-credit-card me-2"}),(0,l.eW)(" Complete Subscription ")],-1)),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",onClick:s[0]||(s[0]=(...e)=>i.resetSubscription&&i.resetSubscription(...e))})]),(0,l.Lk)("div",ls,[r.selectedPlan?((0,l.uX)(),(0,l.CE)("div",os,[(0,l.Lk)("h6",null,(0,n.v_)(r.selectedPlan.name),1),(0,l.Lk)("p",rs,(0,n.v_)(r.selectedPlan.description),1),(0,l.Lk)("div",ns,[s[24]||(s[24]=(0,l.Lk)("span",null,"Price:",-1)),(0,l.Lk)("strong",null,"$"+(0,n.v_)(r.selectedPlan.price),1)]),(0,l.Lk)("div",is,[s[25]||(s[25]=(0,l.Lk)("span",null,"Duration:",-1)),(0,l.Lk)("strong",null,(0,n.v_)(r.selectedPlan.duration)+" days",1)])])):(0,l.Q3)("",!0),(0,l.Lk)("form",{onSubmit:s[4]||(s[4]=(0,t.D$)((...e)=>i.processSubscription&&i.processSubscription(...e),["prevent"]))},[(0,l.Lk)("div",cs,[s[26]||(s[26]=(0,l.Lk)("label",{for:"cardNumber",class:"form-label"},"Card Number",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"cardNumber","onUpdate:modelValue":s[1]||(s[1]=e=>r.paymentData.cardNumber=e),placeholder:"1234 5678 9012 3456",required:""},null,512),[[t.Jo,r.paymentData.cardNumber]])]),(0,l.Lk)("div",ds,[(0,l.Lk)("div",ms,[(0,l.Lk)("div",us,[s[27]||(s[27]=(0,l.Lk)("label",{for:"expiryDate",class:"form-label"},"Expiry Date",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"expiryDate","onUpdate:modelValue":s[2]||(s[2]=e=>r.paymentData.expiryDate=e),placeholder:"MM/YY",required:""},null,512),[[t.Jo,r.paymentData.expiryDate]])])]),(0,l.Lk)("div",ks,[(0,l.Lk)("div",hs,[s[28]||(s[28]=(0,l.Lk)("label",{for:"cvv",class:"form-label"},"CVV",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"cvv","onUpdate:modelValue":s[3]||(s[3]=e=>r.paymentData.cvv=e),placeholder:"123",required:""},null,512),[[t.Jo,r.paymentData.cvv]])])])]),s[29]||(s[29]=(0,l.Lk)("div",{class:"alert alert-info"},[(0,l.Lk)("i",{class:"fas fa-info-circle me-2"}),(0,l.eW)(" This is a demo payment. Any card details will be accepted. ")],-1))],32)]),(0,l.Lk)("div",ps,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:s[5]||(s[5]=(...e)=>i.resetSubscription&&i.resetSubscription(...e))}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-primary",onClick:s[6]||(s[6]=(...e)=>i.processSubscription&&i.processSubscription(...e)),disabled:r.processing},[r.processing?((0,l.uX)(),(0,l.CE)("span",vs)):((0,l.uX)(),(0,l.CE)("i",fs)),(0,l.eW)(" "+(0,n.v_)(r.processing?"Processing...":"Complete Payment"),1)],8,bs)])])])])])}var Ls={name:"ModelDetail",props:{id:{type:String,required:!0}},data(){return{model:null,loading:!0,error:null,selectedPlan:null,paymentData:{cardNumber:"",expiryDate:"",cvv:""},processing:!1}},async mounted(){await this.fetchModel()},methods:{async fetchModel(){try{this.loading=!0,this.error=null;const e=await D.get(`/social/models/${this.id}`);this.model=e.data.model}catch(e){console.error("Error fetching model:",e),this.error="Failed to load model details. Please try again."}finally{this.loading=!1}},subscribe(e){this.selectedPlan=e,this.resetPaymentData();const s=new bootstrap.Modal(document.getElementById("subscriptionModal"));s.show()},resetPaymentData(){this.paymentData={cardNumber:"",expiryDate:"",cvv:""}},resetSubscription(){this.selectedPlan=null,this.resetPaymentData()},async processSubscription(){if(this.selectedPlan){this.processing=!0;try{await D.post("/social/subscribe",{modelId:this.model.id,planId:this.selectedPlan.id,paymentData:this.paymentData});const e=bootstrap.Modal.getInstance(document.getElementById("subscriptionModal"));e.hide(),this.$swal({icon:"success",title:"Subscription Successful!",text:"Your subscription has been approved. You can now access exclusive content.",confirmButtonText:"Great!"}),this.resetSubscription()}catch(e){console.error("Subscription error:",e),this.$swal({icon:"error",title:"Subscription Failed",text:e.response?.data?.message||"Something went wrong. Please try again.",confirmButtonText:"OK"})}finally{this.processing=!1}}}}};const ys=(0,x.A)(Ls,[["render",gs]]);var ws=ys;const xs={class:"container py-5"},Cs={class:"row justify-content-center"},Es={class:"col-md-6 col-lg-4"},Ms={class:"card shadow"},Ss={class:"card-body p-5"},As={class:"mb-3"},_s={class:"input-group"},Ps={class:"mb-3"},Fs={class:"input-group"},Ds=["type"],Ts={key:0,class:"alert alert-danger",role:"alert"},Xs=["disabled"],Us={key:0,class:"spinner-border spinner-border-sm me-2"},Ws={key:1,class:"fas fa-sign-in-alt me-2"},Rs={class:"text-center"},$s={class:"mb-0"},Is={class:"text-center"},Ns={class:"d-grid gap-2"};function Os(e,s,a,o,r,i){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",xs,[(0,l.Lk)("div",Cs,[(0,l.Lk)("div",Es,[(0,l.Lk)("div",Ms,[(0,l.Lk)("div",Ss,[s[18]||(s[18]=(0,l.Lk)("div",{class:"text-center mb-4"},[(0,l.Lk)("i",{class:"fas fa-star fa-3x text-primary mb-3"}),(0,l.Lk)("h2",{class:"fw-bold"},"Welcome Back"),(0,l.Lk)("p",{class:"text-muted"},"Sign in to your account")],-1)),(0,l.Lk)("form",{onSubmit:s[3]||(s[3]=(0,t.D$)((...e)=>i.handleLogin&&i.handleLogin(...e),["prevent"]))},[(0,l.Lk)("div",As,[s[8]||(s[8]=(0,l.Lk)("label",{for:"email",class:"form-label"},"Email Address",-1)),(0,l.Lk)("div",_s,[s[7]||(s[7]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"fas fa-envelope"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":s[0]||(s[0]=e=>r.form.email=e),placeholder:"Enter your email",required:""},null,512),[[t.Jo,r.form.email]])])]),(0,l.Lk)("div",Ps,[s[10]||(s[10]=(0,l.Lk)("label",{for:"password",class:"form-label"},"Password",-1)),(0,l.Lk)("div",Fs,[s[9]||(s[9]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"fas fa-lock"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:r.showPassword?"text":"password",class:"form-control",id:"password","onUpdate:modelValue":s[1]||(s[1]=e=>r.form.password=e),placeholder:"Enter your password",required:""},null,8,Ds),[[t.hp,r.form.password]]),(0,l.Lk)("button",{type:"button",class:"btn btn-outline-secondary",onClick:s[2]||(s[2]=e=>r.showPassword=!r.showPassword)},[(0,l.Lk)("i",{class:(0,n.C4)(r.showPassword?"fas fa-eye-slash":"fas fa-eye")},null,2)])])]),e.error?((0,l.uX)(),(0,l.CE)("div",Ts,[s[11]||(s[11]=(0,l.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.error),1)])):(0,l.Q3)("",!0),(0,l.Lk)("button",{type:"submit",class:"btn btn-primary w-100 mb-3",disabled:e.loading},[e.loading?((0,l.uX)(),(0,l.CE)("span",Us)):((0,l.uX)(),(0,l.CE)("i",Ws)),(0,l.eW)(" "+(0,n.v_)(e.loading?"Signing In...":"Sign In"),1)],8,Xs)],32),(0,l.Lk)("div",Rs,[(0,l.Lk)("p",$s,[s[13]||(s[13]=(0,l.eW)(" Don't have an account? ",-1)),(0,l.bF)(c,{to:"/register",class:"text-primary text-decoration-none"},{default:(0,l.k6)(()=>[...s[12]||(s[12]=[(0,l.eW)(" Sign up here ",-1)])]),_:1})])]),s[19]||(s[19]=(0,l.Lk)("hr",{class:"my-4"},null,-1)),(0,l.Lk)("div",Is,[s[17]||(s[17]=(0,l.Lk)("h6",{class:"text-muted mb-3"},"Demo Accounts",-1)),(0,l.Lk)("div",Ns,[(0,l.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:s[4]||(s[4]=e=>i.fillDemoAccount("admin@gmail.com","admin123"))},[...s[14]||(s[14]=[(0,l.Lk)("i",{class:"fas fa-crown me-1"},null,-1),(0,l.eW)(" Admin Account ",-1)])]),(0,l.Lk)("button",{class:"btn btn-outline-success btn-sm",onClick:s[5]||(s[5]=e=>i.fillDemoAccount("manager@example.com","manager123"))},[...s[15]||(s[15]=[(0,l.Lk)("i",{class:"fas fa-user-tie me-1"},null,-1),(0,l.eW)(" Manager Account ",-1)])]),(0,l.Lk)("button",{class:"btn btn-outline-info btn-sm",onClick:s[6]||(s[6]=e=>i.fillDemoAccount("user@example.com","user123"))},[...s[16]||(s[16]=[(0,l.Lk)("i",{class:"fas fa-user me-1"},null,-1),(0,l.eW)(" User Account ",-1)])])])])])])])])])}var js={name:"Login",data(){return{form:{email:"",password:""},showPassword:!1}},computed:{...(0,y.L8)("auth",["loading","error"])},methods:{...(0,y.i0)("auth",["login","clearError"]),async handleLogin(){try{const e=await this.login(this.form);if(console.log("🔍 Login result:",e),e&&e.success){const s=e.user?.role?.toUpperCase();switch(console.log("✅ Logged in as:",s),s){case"USER":this.$router.push("/user");break;case"MANAGER":this.$router.push("/manager");break;case"ADMIN":this.$router.push("/admin");break;default:this.$router.push("/")}}else console.warn("❌ Login failed:",e?.error||"Unknown error")}catch(e){console.error("⚠️ Unexpected login error:",e)}},fillDemoAccount(e,s){this.form.email=e,this.form.password=s}},mounted(){this.clearError()}};const Bs=(0,x.A)(js,[["render",Os]]);var Vs=Bs;const qs={class:"container py-5"},Gs={class:"row justify-content-center"},Ks={class:"col-md-6 col-lg-5"},Qs={class:"card shadow"},Js={class:"card-body p-5"},Hs={class:"mb-3"},Ys={class:"input-group"},zs={class:"mb-3"},Zs={class:"input-group"},ea=["type"],sa={class:"mb-4"},aa={class:"row"},ta={class:"col-6"},la={class:"form-check"},oa={class:"col-6"},ra={class:"form-check"},na={key:0,class:"alert alert-info mt-2"},ia={key:0,class:"alert alert-danger",role:"alert"},ca=["disabled"],da={key:0,class:"spinner-border spinner-border-sm me-2"},ma={key:1,class:"fas fa-user-plus me-2"},ua={class:"text-center"},ka={class:"mb-0"};function ha(e,s,a,o,r,i){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",qs,[(0,l.Lk)("div",Gs,[(0,l.Lk)("div",Ks,[(0,l.Lk)("div",Qs,[(0,l.Lk)("div",Js,[s[18]||(s[18]=(0,l.Lk)("div",{class:"text-center mb-4"},[(0,l.Lk)("i",{class:"fas fa-user-plus fa-3x text-primary mb-3"}),(0,l.Lk)("h2",{class:"fw-bold"},"Create Account"),(0,l.Lk)("p",{class:"text-muted"},"Join our platform today")],-1)),(0,l.Lk)("form",{onSubmit:s[5]||(s[5]=(0,t.D$)((...e)=>i.handleRegister&&i.handleRegister(...e),["prevent"]))},[(0,l.Lk)("div",Hs,[s[7]||(s[7]=(0,l.Lk)("label",{for:"email",class:"form-label"},"Email Address",-1)),(0,l.Lk)("div",Ys,[s[6]||(s[6]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"fas fa-envelope"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":s[0]||(s[0]=e=>r.form.email=e),placeholder:"Enter your email",required:""},null,512),[[t.Jo,r.form.email]])])]),(0,l.Lk)("div",zs,[s[9]||(s[9]=(0,l.Lk)("label",{for:"password",class:"form-label"},"Password",-1)),(0,l.Lk)("div",Zs,[s[8]||(s[8]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"fas fa-lock"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:r.showPassword?"text":"password",class:"form-control",id:"password","onUpdate:modelValue":s[1]||(s[1]=e=>r.form.password=e),placeholder:"Create a password",required:"",minlength:"6"},null,8,ea),[[t.hp,r.form.password]]),(0,l.Lk)("button",{type:"button",class:"btn btn-outline-secondary",onClick:s[2]||(s[2]=e=>r.showPassword=!r.showPassword)},[(0,l.Lk)("i",{class:(0,n.C4)(r.showPassword?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),s[10]||(s[10]=(0,l.Lk)("div",{class:"form-text"}," Password must be at least 6 characters long ",-1))]),(0,l.Lk)("div",sa,[s[14]||(s[14]=(0,l.Lk)("label",{for:"role",class:"form-label"},"Account Type",-1)),(0,l.Lk)("div",aa,[(0,l.Lk)("div",ta,[(0,l.Lk)("div",la,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio",id:"roleUser","onUpdate:modelValue":s[3]||(s[3]=e=>r.form.role=e),value:"USER"},null,512),[[t.XL,r.form.role]]),s[11]||(s[11]=(0,l.Lk)("label",{class:"form-check-label",for:"roleUser"},[(0,l.Lk)("i",{class:"fas fa-user me-1"}),(0,l.eW)(" User "),(0,l.Lk)("small",{class:"d-block text-muted"},"Subscribe to models")],-1))])]),(0,l.Lk)("div",oa,[(0,l.Lk)("div",ra,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio",id:"roleManager","onUpdate:modelValue":s[4]||(s[4]=e=>r.form.role=e),value:"MANAGER"},null,512),[[t.XL,r.form.role]]),s[12]||(s[12]=(0,l.Lk)("label",{class:"form-check-label",for:"roleManager"},[(0,l.Lk)("i",{class:"fas fa-user-tie me-1"}),(0,l.eW)(" Manager "),(0,l.Lk)("small",{class:"d-block text-muted"},"Manage models")],-1))])])]),"MANAGER"===r.form.role?((0,l.uX)(),(0,l.CE)("div",na,[...s[13]||(s[13]=[(0,l.Lk)("i",{class:"fas fa-info-circle me-2"},null,-1),(0,l.eW)(" Manager accounts require admin approval before activation. ",-1)])])):(0,l.Q3)("",!0)]),e.error?((0,l.uX)(),(0,l.CE)("div",ia,[s[15]||(s[15]=(0,l.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.error),1)])):(0,l.Q3)("",!0),(0,l.Lk)("button",{type:"submit",class:"btn btn-primary w-100 mb-3",disabled:e.loading},[e.loading?((0,l.uX)(),(0,l.CE)("span",da)):((0,l.uX)(),(0,l.CE)("i",ma)),(0,l.eW)(" "+(0,n.v_)(e.loading?"Creating Account...":"Create Account"),1)],8,ca)],32),(0,l.Lk)("div",ua,[(0,l.Lk)("p",ka,[s[17]||(s[17]=(0,l.eW)(" Already have an account? ",-1)),(0,l.bF)(c,{to:"/login",class:"text-primary text-decoration-none"},{default:(0,l.k6)(()=>[...s[16]||(s[16]=[(0,l.eW)(" Sign in here ",-1)])]),_:1})])])])])])])])}var pa={name:"Register",data(){return{form:{email:"",password:"",role:"USER"},showPassword:!1}},computed:{...(0,y.L8)("auth",["loading","error"])},methods:{...(0,y.i0)("auth",["register","clearError"]),async handleRegister(){const e=await this.register(this.form);e.success&&("MANAGER"===this.form.role?this.$swal({icon:"success",title:"Registration Successful!",text:"Your manager account has been created and is pending admin approval. You will receive an email when approved.",confirmButtonText:"OK"}).then(()=>{this.$router.push("/login")}):this.$swal({icon:"success",title:"Welcome!",text:"Your account has been created successfully.",confirmButtonText:"Get Started"}).then(()=>{this.$router.push("/login")}))}},mounted(){this.clearError()}};const ba=(0,x.A)(pa,[["render",ha]]);var va=ba;const fa={class:"container-fluid py-4"},ga={class:"row"},La={class:"col-lg-3"},ya={class:"card"},wa={class:"card-body p-0"},xa={key:0,class:"text-center p-3"},Ca={key:1,class:"text-center p-3 text-muted"},Ea={key:2,class:"list-group list-group-flush"},Ma=["onClick"],Sa={class:"d-flex align-items-center"},Aa=["src","alt"],_a={class:"flex-grow-1"},Pa={class:"mb-0"},Fa={class:"text-muted"},Da={class:"card mt-3"},Ta={class:"card-body"},Xa={class:"d-flex justify-content-between mb-2"},Ua={class:"d-flex justify-content-between"},Wa={class:"col-lg-9"},Ra={class:"row mb-4"},$a={class:"col-12"},Ia={key:0,class:"row"},Na={key:1,class:"row"},Oa=["onClick"],ja={class:"position-relative"},Ba=["src","alt"],Va={key:0,class:"position-absolute top-0 end-0 m-2"},qa={class:"card-body d-flex flex-column"},Ga={class:"card-title"},Ka={class:"card-text text-muted small"},Qa={class:"card-text small flex-grow-1"},Ja={class:"mt-auto"},Ha={class:"d-flex justify-content-between align-items-center mb-2"},Ya={class:"text-muted"},za={class:"text-success fw-bold"},Za=["onClick"],et=["onClick"],st={key:2,class:"row"};function at(e,s,a,o,r,i){return(0,l.uX)(),(0,l.CE)("div",fa,[(0,l.Lk)("div",ga,[(0,l.Lk)("div",La,[(0,l.Lk)("div",ya,[s[3]||(s[3]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-user me-2"}),(0,l.eW)(" My Subscriptions ")])],-1)),(0,l.Lk)("div",wa,[r.loading?((0,l.uX)(),(0,l.CE)("div",xa,[...s[0]||(s[0]=[(0,l.Lk)("div",{class:"spinner-border spinner-border-sm",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):0===r.subscriptions.length?((0,l.uX)(),(0,l.CE)("div",Ca,[...s[1]||(s[1]=[(0,l.Lk)("i",{class:"fas fa-heart-broken fa-2x mb-2"},null,-1),(0,l.Lk)("p",{class:"mb-0"},"No subscriptions yet",-1),(0,l.Lk)("small",null,"Browse models to get started",-1)])])):((0,l.uX)(),(0,l.CE)("div",Ea,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.subscriptions,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,n.C4)(["list-group-item list-group-item-action",{active:r.currentChat===e.model.id}]),onClick:s=>i.openChat(e.model.id)},[(0,l.Lk)("div",Sa,[(0,l.Lk)("img",{src:e.model.photoUrl||"https://via.placeholder.com/40x40",class:"avatar me-3",alt:e.model.name},null,8,Aa),(0,l.Lk)("div",_a,[(0,l.Lk)("h6",Pa,(0,n.v_)(e.model.name)+" "+(0,n.v_)(e.model.surname),1),(0,l.Lk)("small",Fa,(0,n.v_)(e.plan.name),1)]),s[2]||(s[2]=(0,l.Lk)("i",{class:"fas fa-chevron-right"},null,-1))])],10,Ma))),128))]))])]),(0,l.Lk)("div",Da,[s[6]||(s[6]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h6",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-chart-line me-2"}),(0,l.eW)(" Quick Stats ")])],-1)),(0,l.Lk)("div",Ta,[(0,l.Lk)("div",Xa,[s[4]||(s[4]=(0,l.Lk)("span",null,"Active Subscriptions:",-1)),(0,l.Lk)("strong",null,(0,n.v_)(r.subscriptions.length),1)]),(0,l.Lk)("div",Ua,[s[5]||(s[5]=(0,l.Lk)("span",null,"Total Spent:",-1)),(0,l.Lk)("strong",null,"$"+(0,n.v_)(i.totalSpent.toFixed(2)),1)])])])]),(0,l.Lk)("div",Wa,[(0,l.Lk)("div",Ra,[(0,l.Lk)("div",$a,[(0,l.Lk)("h2",null,[s[7]||(s[7]=(0,l.Lk)("i",{class:"fas fa-home me-2"},null,-1)),(0,l.eW)(" Welcome back, "+(0,n.v_)(e.user?.email)+"! ",1)]),s[8]||(s[8]=(0,l.Lk)("p",{class:"text-muted"},"Here's what's happening with your subscriptions",-1))])]),s[14]||(s[14]=(0,l.Lk)("div",{class:"row"},[(0,l.Lk)("div",{class:"col-12"},[(0,l.Lk)("h4",{class:"mb-3"},[(0,l.Lk)("i",{class:"fas fa-star me-2"}),(0,l.eW)(" Featured Models ")])])],-1)),r.modelsLoading?((0,l.uX)(),(0,l.CE)("div",Ia,[...s[9]||(s[9]=[(0,l.Lk)("div",{class:"col-12 text-center"},[(0,l.Lk)("div",{class:"loading"},[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")])])],-1)])])):((0,l.uX)(),(0,l.CE)("div",Na,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.models,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-lg-4 col-md-6 mb-4"},[(0,l.Lk)("div",{class:"card model-card h-100",onClick:s=>i.viewModel(e.id)},[(0,l.Lk)("div",ja,[(0,l.Lk)("img",{src:e.photoUrl||"https://via.placeholder.com/400x300",class:"card-img-top",alt:`${e.name} ${e.surname}`,style:{height:"200px","object-fit":"cover"}},null,8,Ba),i.isSubscribed(e.id)?((0,l.uX)(),(0,l.CE)("div",Va,[...s[10]||(s[10]=[(0,l.Lk)("span",{class:"badge bg-success"},[(0,l.Lk)("i",{class:"fas fa-check-circle me-1"}),(0,l.eW)(" Subscribed ")],-1)])])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",qa,[(0,l.Lk)("h6",Ga,(0,n.v_)(e.name)+" "+(0,n.v_)(e.surname),1),(0,l.Lk)("p",Ka,(0,n.v_)(e.age)+" years old • "+(0,n.v_)(e.hairColor)+" hair ",1),(0,l.Lk)("p",Qa,(0,n.v_)(e.bio.substring(0,80))+(0,n.v_)(e.bio.length>80?"...":""),1),(0,l.Lk)("div",Ja,[(0,l.Lk)("div",Ha,[(0,l.Lk)("small",Ya,(0,n.v_)(e.plans.length)+" plans ",1),(0,l.Lk)("small",za," From $"+(0,n.v_)(Math.min(...e.plans.map(e=>e.price)))+"/month ",1)]),i.isSubscribed(e.id)?((0,l.uX)(),(0,l.CE)("button",{key:1,class:"btn btn-success btn-sm w-100",onClick:(0,t.D$)(s=>i.openChat(e.id),["stop"])},[...s[12]||(s[12]=[(0,l.Lk)("i",{class:"fas fa-comments me-1"},null,-1),(0,l.eW)(" Open Chat ",-1)])],8,et)):((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-primary btn-sm w-100",onClick:(0,t.D$)(s=>i.viewModel(e.id),["stop"])},[...s[11]||(s[11]=[(0,l.Lk)("i",{class:"fas fa-eye me-1"},null,-1),(0,l.eW)(" View Profile ",-1)])],8,Za))])])],8,Oa)]))),128))])),r.modelsLoading||0!==r.models.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",st,[...s[13]||(s[13]=[(0,l.Lk)("div",{class:"col-12 text-center py-5"},[(0,l.Lk)("i",{class:"fas fa-users fa-3x text-muted mb-3"}),(0,l.Lk)("h4",{class:"text-muted"},"No models available"),(0,l.Lk)("p",{class:"text-muted"},"Check back later for new models!")],-1)])]))])])])}var tt={name:"UserDashboard",data(){return{subscriptions:[],models:[],loading:!0,modelsLoading:!0,currentChat:null}},computed:{...(0,y.L8)("auth",["user"]),totalSpent(){return this.subscriptions.reduce((e,s)=>e+s.plan.price,0)}},async mounted(){await Promise.all([this.fetchSubscriptions(),this.fetchModels()])},methods:{...(0,y.i0)("socket",["connectSocket"]),async fetchSubscriptions(){try{this.loading=!0;const e=await D.get("/user/subscriptions");this.subscriptions=e.data.subscriptions}catch(e){console.error("Error fetching subscriptions:",e)}finally{this.loading=!1}},async fetchModels(){try{this.modelsLoading=!0;const e=await D.get("/social/models");this.models=e.data.models}catch(e){console.error("Error fetching models:",e)}finally{this.modelsLoading=!1}},isSubscribed(e){return this.subscriptions.some(s=>s.model.id===e)},viewModel(e){this.$router.push(`/model/${e}`)},openChat(e){this.currentChat=e,this.$router.push(`/user/chat/${e}`)}}};const lt=(0,x.A)(tt,[["render",at]]);var ot=lt;const rt={class:"container-fluid py-4"},nt={class:"row"},it={class:"col-lg-3"},ct={class:"card"},dt={class:"card-body p-0"},mt={key:0,class:"text-center p-3"},ut={key:1,class:"text-center p-3 text-muted"},kt={key:2,class:"list-group list-group-flush"},ht=["onClick"],pt={class:"d-flex align-items-center"},bt=["src","alt"],vt={class:"flex-grow-1"},ft={class:"mb-0"},gt={class:"col-lg-9"},Lt={key:0,class:"text-center py-5"},yt={key:1,class:"card h-100"},wt={class:"card-header d-flex justify-content-between align-items-center"},xt={class:"d-flex align-items-center"},Ct=["src","alt"],Et={class:"mb-0"},Mt={class:"card-body p-0"},St={key:0,class:"text-center py-3"},At={key:1,class:"text-center py-5 text-muted"},_t={key:2},Pt={class:"d-flex align-items-start"},Ft=["src","alt"],Dt={class:"flex-grow-1"},Tt={class:"d-flex justify-content-between align-items-center mb-1"},Xt={class:"fw-bold"},Ut={class:"text-muted"},Wt={class:"mb-0"},Rt={class:"card-footer"},$t=["disabled"],It=["disabled"],Nt={key:0,class:"spinner-border spinner-border-sm me-1"},Ot={key:1,class:"fas fa-paper-plane"};function jt(e,s,a,o,r,i){return(0,l.uX)(),(0,l.CE)("div",rt,[(0,l.Lk)("div",nt,[(0,l.Lk)("div",it,[(0,l.Lk)("div",ct,[s[8]||(s[8]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-comments me-2"}),(0,l.eW)(" My Chats ")])],-1)),(0,l.Lk)("div",dt,[r.chatModelsLoading?((0,l.uX)(),(0,l.CE)("div",mt,[...s[4]||(s[4]=[(0,l.Lk)("div",{class:"spinner-border spinner-border-sm",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):0===r.chatModels.length?((0,l.uX)(),(0,l.CE)("div",ut,[...s[5]||(s[5]=[(0,l.Lk)("i",{class:"fas fa-heart-broken fa-2x mb-2"},null,-1),(0,l.Lk)("p",{class:"mb-0"},"No active chats",-1),(0,l.Lk)("small",null,"Subscribe to models to start chatting",-1)])])):((0,l.uX)(),(0,l.CE)("div",kt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.chatModels,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,n.C4)(["list-group-item list-group-item-action",{active:r.currentModelId===e.id}]),onClick:s=>i.switchChat(e.id)},[(0,l.Lk)("div",pt,[(0,l.Lk)("img",{src:e.photoUrl||"https://via.placeholder.com/40x40",class:"avatar me-3",alt:e.name},null,8,bt),(0,l.Lk)("div",vt,[(0,l.Lk)("h6",ft,(0,n.v_)(e.name)+" "+(0,n.v_)(e.surname),1),s[6]||(s[6]=(0,l.Lk)("small",{class:"text-muted"},"Click to chat",-1))]),s[7]||(s[7]=(0,l.Lk)("i",{class:"fas fa-chevron-right"},null,-1))])],10,ht))),128))]))])])]),(0,l.Lk)("div",gt,[r.currentModelId?((0,l.uX)(),(0,l.CE)("div",yt,[(0,l.Lk)("div",wt,[(0,l.Lk)("div",xt,[(0,l.Lk)("img",{src:r.currentModel?.photoUrl||"https://via.placeholder.com/40x40",class:"avatar me-3",alt:r.currentModel?.name},null,8,Ct),(0,l.Lk)("div",null,[(0,l.Lk)("h5",Et,(0,n.v_)(r.currentModel?.name)+" "+(0,n.v_)(r.currentModel?.surname),1),s[10]||(s[10]=(0,l.Lk)("small",{class:"text-muted"},[(0,l.Lk)("i",{class:"fas fa-circle text-success me-1",style:{"font-size":"0.5rem"}}),(0,l.eW)(" Online ")],-1))])]),(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:s[0]||(s[0]=(...e)=>i.goBack&&i.goBack(...e))},[...s[11]||(s[11]=[(0,l.Lk)("i",{class:"fas fa-arrow-left me-1"},null,-1),(0,l.eW)(" Back ",-1)])])]),(0,l.Lk)("div",Mt,[(0,l.Lk)("div",{ref:"messagesContainer",class:"chat-container p-3",onScroll:s[1]||(s[1]=(...e)=>i.handleScroll&&i.handleScroll(...e))},[r.messagesLoading?((0,l.uX)(),(0,l.CE)("div",St,[...s[12]||(s[12]=[(0,l.Lk)("div",{class:"spinner-border spinner-border-sm",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading messages...")],-1)])])):0===r.messages.length?((0,l.uX)(),(0,l.CE)("div",At,[...s[13]||(s[13]=[(0,l.Lk)("i",{class:"fas fa-comment-slash fa-2x mb-3"},null,-1),(0,l.Lk)("p",{class:"mb-0"},"No messages yet",-1),(0,l.Lk)("small",null,"Start the conversation below",-1)])])):((0,l.uX)(),(0,l.CE)("div",_t,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.messages,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,n.C4)(["message",e.isFromUser?"user":"model"])},[(0,l.Lk)("div",Pt,[(0,l.Lk)("img",{src:e.isFromUser?"https://via.placeholder.com/30x30":r.currentModel?.photoUrl||"https://via.placeholder.com/30x30",class:"avatar me-2",style:{width:"30px",height:"30px"},alt:e.isFromUser?"You":r.currentModel?.name},null,8,Ft),(0,l.Lk)("div",Dt,[(0,l.Lk)("div",Tt,[(0,l.Lk)("small",Xt,(0,n.v_)(e.isFromUser?"You":r.currentModel?.name),1),(0,l.Lk)("small",Ut,(0,n.v_)(i.formatTime(e.createdAt)),1)]),(0,l.Lk)("p",Wt,(0,n.v_)(e.content),1)])])],2))),128))]))],544)]),(0,l.Lk)("div",Rt,[(0,l.Lk)("form",{onSubmit:s[3]||(s[3]=(0,t.D$)((...e)=>i.sendMessage&&i.sendMessage(...e),["prevent"])),class:"d-flex"},[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>r.newMessage=e),type:"text",class:"form-control me-2",placeholder:"Type your message...",disabled:r.sending},null,8,$t),[[t.Jo,r.newMessage]]),(0,l.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:!r.newMessage.trim()||r.sending},[r.sending?((0,l.uX)(),(0,l.CE)("span",Nt)):((0,l.uX)(),(0,l.CE)("i",Ot))],8,It)],32)])])):((0,l.uX)(),(0,l.CE)("div",Lt,[...s[9]||(s[9]=[(0,l.Lk)("i",{class:"fas fa-comments fa-3x text-muted mb-3"},null,-1),(0,l.Lk)("h4",{class:"text-muted"},"Select a chat to start messaging",-1),(0,l.Lk)("p",{class:"text-muted"},"Choose a model from the sidebar to begin your conversation",-1)])]))])])])}var Bt={name:"UserChat",props:{modelId:{type:String,default:null}},data(){return{chatModels:[],chatModelsLoading:!0,currentModelId:null,currentModel:null,messages:[],messagesLoading:!1,newMessage:"",sending:!1,hasMoreMessages:!1,loadingMore:!1}},computed:{...(0,y.L8)("auth",["user"]),...(0,y.L8)("socket",["connected"])},async mounted(){await this.fetchChatModels(),this.modelId?await this.switchChat(this.modelId):this.chatModels.length>0&&await this.switchChat(this.chatModels[0].id),this.connectSocket()},methods:{...(0,y.i0)("socket",["connectSocket","joinChat","leaveChat","sendMessage: sendMessage","getChatHistory","setCurrentChat"]),async fetchChatModels(){try{this.chatModelsLoading=!0;const e=await D.get("/user/chat-models");this.chatModels=e.data.chatModels}catch(e){console.error("Error fetching chat models:",e)}finally{this.chatModelsLoading=!1}},async switchChat(e){this.currentModelId!==e&&(this.currentModelId&&this.leaveChat(this.currentModelId),this.currentModelId=e,this.currentModel=this.chatModels.find(s=>s.id===e),this.messages=[],this.setCurrentChat(e),this.joinChat(e),await this.loadMessages())},async loadMessages(){if(this.currentModelId)try{this.messagesLoading=!0;const e=await D.get(`/user/chats/${this.currentModelId}`);this.messages=e.data.messages,this.hasMoreMessages=e.data.hasMore,this.$nextTick(()=>{this.scrollToBottom()})}catch(e){console.error("Error loading messages:",e)}finally{this.messagesLoading=!1}},async sendMessage(){if(!this.newMessage.trim()||!this.currentModelId)return;const e=this.newMessage.trim();this.newMessage="",this.sending=!0;try{this.sendMessage({modelId:this.currentModelId,content:e})}catch(s){console.error("Error sending message:",s),this.$swal({icon:"error",title:"Failed to send message",text:"Please try again.",confirmButtonText:"OK"})}finally{this.sending=!1}},goBack(){this.$router.push("/user")},formatTime(e){const s=new Date(e),a=new Date,t=a-s;return t<6e4?"Just now":t<36e5?`${Math.floor(t/6e4)}m ago`:t<864e5?`${Math.floor(t/36e5)}h ago`:s.toLocaleDateString()},scrollToBottom(){this.$refs.messagesContainer&&(this.$refs.messagesContainer.scrollTop=this.$refs.messagesContainer.scrollHeight)},handleScroll(){const e=this.$refs.messagesContainer;0===e.scrollTop&&this.hasMoreMessages&&!this.loadingMore&&this.loadMoreMessages()},async loadMoreMessages(){if(!this.loadingMore)try{this.loadingMore=!0;const e=await D.get(`/user/chats/${this.currentModelId}`,{params:{offset:this.messages.length,limit:20}}),s=e.data.messages;this.messages=[...s,...this.messages],this.hasMoreMessages=e.data.hasMore}catch(e){console.error("Error loading more messages:",e)}finally{this.loadingMore=!1}}},watch:{"$store.getters.socket/messages":{handler(e){this.currentModelId&&e[this.currentModelId]&&(this.messages=e[this.currentModelId],this.$nextTick(()=>{this.scrollToBottom()}))},deep:!0},modelId(e){e&&e!==this.currentModelId&&this.switchChat(e)}}};const Vt=(0,x.A)(Bt,[["render",jt]]);var qt=Vt;const Gt={class:"container-fluid py-4"},Kt={class:"row mb-4"},Qt={class:"col-lg-4 col-md-6 mb-3"},Jt={class:"card stats-card"},Ht={class:"card-body text-center"},Yt={class:"mb-1"},zt={class:"col-lg-4 col-md-6 mb-3"},Zt={class:"card stats-card"},el={class:"card-body text-center"},sl={class:"mb-1"},al={class:"col-lg-4 col-md-6 mb-3"},tl={class:"card stats-card"},ll={class:"card-body text-center"},ol={class:"mb-1"},rl={class:"row mb-4"},nl={class:"col-12"},il={class:"card"},cl={class:"card-body"},dl={class:"row"},ml={class:"col-md-3 mb-2"},ul={class:"col-md-3 mb-2"},kl={class:"col-md-3 mb-2"},hl={class:"col-md-3 mb-2"},pl={class:"row"},bl={class:"col-lg-8"},vl={class:"card"},fl={class:"card-header d-flex justify-content-between align-items-center"},gl={class:"card-body"},Ll={key:0,class:"text-center py-3"},yl={key:1,class:"text-center py-5"},wl={key:2,class:"row"},xl={class:"col-md-4"},Cl=["src","alt"],El={class:"col-md-8"},Ml={class:"text-muted"},Sl={class:"row"},Al={class:"col-sm-6"},_l={class:"col-lg-4"},Pl={class:"card"},Fl={class:"card-body"},Dl={key:0,class:"text-center text-muted py-3"},Tl={key:1},Xl={class:"avatar me-3",style:{width:"40px",height:"40px","background-color":"#6f42c1",color:"white",display:"flex","align-items":"center","justify-content":"center","border-radius":"50%"}},Ul={class:"flex-grow-1"},Wl={class:"mb-0"},Rl={class:"text-muted"};function $l(e,s,a,t,o,r){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Gt,[s[24]||(s[24]=(0,l.Lk)("div",{class:"row mb-4"},[(0,l.Lk)("div",{class:"col-12"},[(0,l.Lk)("h2",null,[(0,l.Lk)("i",{class:"fas fa-tachometer-alt me-2"}),(0,l.eW)(" Manager Dashboard ")]),(0,l.Lk)("p",{class:"text-muted"},"Manage your model and track performance")])],-1)),(0,l.Lk)("div",Kt,[(0,l.Lk)("div",Qt,[(0,l.Lk)("div",Jt,[(0,l.Lk)("div",Ht,[s[2]||(s[2]=(0,l.Lk)("i",{class:"fas fa-users fa-2x mb-2"},null,-1)),(0,l.Lk)("h3",Yt,(0,n.v_)(o.stats.activeSubscriptions||0),1),s[3]||(s[3]=(0,l.Lk)("p",{class:"mb-0"},"Active Subscribers",-1))])])]),(0,l.Lk)("div",zt,[(0,l.Lk)("div",Zt,[(0,l.Lk)("div",el,[s[4]||(s[4]=(0,l.Lk)("i",{class:"fas fa-dollar-sign fa-2x mb-2"},null,-1)),(0,l.Lk)("h3",sl,"$"+(0,n.v_)((o.stats.totalRevenue||0).toFixed(2)),1),s[5]||(s[5]=(0,l.Lk)("p",{class:"mb-0"},"Total Revenue",-1))])])]),(0,l.Lk)("div",al,[(0,l.Lk)("div",tl,[(0,l.Lk)("div",ll,[s[6]||(s[6]=(0,l.Lk)("i",{class:"fas fa-chart-line fa-2x mb-2"},null,-1)),(0,l.Lk)("h3",ol,(0,n.v_)(o.stats.recentSubscriptions||0),1),s[7]||(s[7]=(0,l.Lk)("p",{class:"mb-0"},"New This Month",-1))])])])]),(0,l.Lk)("div",rl,[(0,l.Lk)("div",nl,[(0,l.Lk)("div",il,[s[12]||(s[12]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-bolt me-2"}),(0,l.eW)(" Quick Actions ")])],-1)),(0,l.Lk)("div",cl,[(0,l.Lk)("div",dl,[(0,l.Lk)("div",ml,[(0,l.bF)(i,{to:"/manager/model",class:"btn btn-primary w-100"},{default:(0,l.k6)(()=>[...s[8]||(s[8]=[(0,l.Lk)("i",{class:"fas fa-user-edit me-2"},null,-1),(0,l.eW)(" Manage Model ",-1)])]),_:1})]),(0,l.Lk)("div",ul,[(0,l.bF)(i,{to:"/manager/chats",class:"btn btn-success w-100"},{default:(0,l.k6)(()=>[...s[9]||(s[9]=[(0,l.Lk)("i",{class:"fas fa-comments me-2"},null,-1),(0,l.eW)(" View Chats ",-1)])]),_:1})]),(0,l.Lk)("div",kl,[(0,l.Lk)("button",{class:"btn btn-info w-100",onClick:s[0]||(s[0]=(...e)=>r.refreshStats&&r.refreshStats(...e))},[...s[10]||(s[10]=[(0,l.Lk)("i",{class:"fas fa-sync-alt me-2"},null,-1),(0,l.eW)(" Refresh Stats ",-1)])])]),(0,l.Lk)("div",hl,[(0,l.Lk)("button",{class:"btn btn-warning w-100",onClick:s[1]||(s[1]=(...e)=>r.showSettings&&r.showSettings(...e))},[...s[11]||(s[11]=[(0,l.Lk)("i",{class:"fas fa-cog me-2"},null,-1),(0,l.eW)(" Settings ",-1)])])])])])])])]),(0,l.Lk)("div",pl,[(0,l.Lk)("div",bl,[(0,l.Lk)("div",vl,[(0,l.Lk)("div",fl,[s[14]||(s[14]=(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-user me-2"}),(0,l.eW)(" Model Overview ")],-1)),(0,l.bF)(i,{to:"/manager/model",class:"btn btn-sm btn-outline-primary"},{default:(0,l.k6)(()=>[...s[13]||(s[13]=[(0,l.Lk)("i",{class:"fas fa-edit me-1"},null,-1),(0,l.eW)(" Edit ",-1)])]),_:1})]),(0,l.Lk)("div",gl,[o.modelLoading?((0,l.uX)(),(0,l.CE)("div",Ll,[...s[15]||(s[15]=[(0,l.Lk)("div",{class:"spinner-border",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):o.model?((0,l.uX)(),(0,l.CE)("div",wl,[(0,l.Lk)("div",xl,[(0,l.Lk)("img",{src:o.model.photoUrl||"https://via.placeholder.com/200x300",class:"img-fluid rounded",alt:`${o.model.name} ${o.model.surname}`},null,8,Cl)]),(0,l.Lk)("div",El,[(0,l.Lk)("h4",null,(0,n.v_)(o.model.name)+" "+(0,n.v_)(o.model.surname),1),(0,l.Lk)("p",Ml,(0,n.v_)(o.model.age)+" years old • "+(0,n.v_)(o.model.hairColor)+" hair • "+(0,n.v_)(o.model.skinColor)+" skin",1),(0,l.Lk)("p",null,(0,n.v_)(o.model.bio),1),(0,l.Lk)("div",Sl,[(0,l.Lk)("div",Al,[s[20]||(s[20]=(0,l.Lk)("strong",null,"Plans:",-1)),(0,l.eW)(" "+(0,n.v_)(o.model.plans.length),1)]),s[21]||(s[21]=(0,l.Lk)("div",{class:"col-sm-6"},[(0,l.Lk)("strong",null,"Status:"),(0,l.Lk)("span",{class:"badge bg-success ms-1"},"Active")],-1))])])])):((0,l.uX)(),(0,l.CE)("div",yl,[s[17]||(s[17]=(0,l.Lk)("i",{class:"fas fa-user-plus fa-3x text-muted mb-3"},null,-1)),s[18]||(s[18]=(0,l.Lk)("h4",{class:"text-muted"},"No model created yet",-1)),s[19]||(s[19]=(0,l.Lk)("p",{class:"text-muted"},"Create your model profile to get started",-1)),(0,l.bF)(i,{to:"/manager/model",class:"btn btn-primary"},{default:(0,l.k6)(()=>[...s[16]||(s[16]=[(0,l.Lk)("i",{class:"fas fa-plus me-2"},null,-1),(0,l.eW)(" Create Model ",-1)])]),_:1})]))])])]),(0,l.Lk)("div",_l,[(0,l.Lk)("div",Pl,[s[23]||(s[23]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-clock me-2"}),(0,l.eW)(" Recent Activity ")])],-1)),(0,l.Lk)("div",Fl,[0===o.recentSubscribers.length?((0,l.uX)(),(0,l.CE)("div",Dl,[...s[22]||(s[22]=[(0,l.Lk)("i",{class:"fas fa-inbox fa-2x mb-2"},null,-1),(0,l.Lk)("p",{class:"mb-0"},"No recent activity",-1)])])):((0,l.uX)(),(0,l.CE)("div",Tl,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.recentSubscribers,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"d-flex align-items-center mb-3"},[(0,l.Lk)("div",Xl,(0,n.v_)(e.user.email.charAt(0).toUpperCase()),1),(0,l.Lk)("div",Ul,[(0,l.Lk)("h6",Wl,(0,n.v_)(e.user.email),1),(0,l.Lk)("small",Rl," Subscribed "+(0,n.v_)(r.formatDate(e.createdAt)),1)])]))),128))]))])])])])])}var Il={name:"ManagerDashboard",data(){return{stats:{},model:null,modelLoading:!0,recentSubscribers:[]}},computed:{...(0,y.L8)("auth",["user"])},async mounted(){await Promise.all([this.fetchStats(),this.fetchModel(),this.fetchRecentSubscribers()])},methods:{async fetchStats(){try{const e=await D.get("/manager/dashboard");this.stats=e.data.stats}catch(e){console.error("Error fetching stats:",e)}},async fetchModel(){try{this.modelLoading=!0;const e=await D.get("/manager/model");this.model=e.data.model}catch(e){console.error("Error fetching model:",e)}finally{this.modelLoading=!1}},async fetchRecentSubscribers(){try{const e=await D.get("/manager/chats");this.recentSubscribers=e.data.subscribers.slice(0,5)}catch(e){console.error("Error fetching recent subscribers:",e)}},async refreshStats(){await Promise.all([this.fetchStats(),this.fetchRecentSubscribers()])},showSettings(){this.$swal({icon:"info",title:"Settings",text:"Settings functionality coming soon!",confirmButtonText:"OK"})},formatDate(e){const s=new Date(e),a=new Date,t=a-s;return t<864e5?"today":t<1728e5?"yesterday":s.toLocaleDateString()}}};const Nl=(0,x.A)(Il,[["render",$l]]);var Ol=Nl;const jl={class:"container-fluid py-4"},Bl={class:"row"},Vl={class:"col-lg-8"},ql={class:"card"},Gl={class:"card-body"},Kl={class:"row"},Ql={class:"col-md-6"},Jl={class:"mb-3"},Hl={class:"col-md-6"},Yl={class:"mb-3"},zl={class:"mb-3"},Zl={class:"row"},eo={class:"col-md-4"},so={class:"mb-3"},ao={class:"col-md-4"},to={class:"mb-3"},lo={class:"col-md-4"},oo={class:"mb-3"},ro={class:"row"},no={class:"col-md-6"},io={class:"mb-3"},co={class:"col-md-6"},mo={class:"mb-3"},uo={key:0,class:"mb-3"},ko=["src"],ho={class:"d-flex justify-content-between"},po=["disabled"],bo={key:0,class:"spinner-border spinner-border-sm me-1"},vo={key:1,class:"fas fa-save me-1"},fo={class:"col-lg-4"},go={class:"card"},Lo={class:"card-header d-flex justify-content-between align-items-center"},yo=["disabled"],wo={class:"card-body"},xo={key:0,class:"text-center text-muted py-3"},Co={key:1},Eo={class:"card-body"},Mo={class:"d-flex justify-content-between align-items-start mb-2"},So={class:"card-title mb-0"},Ao={class:"dropdown"},_o={class:"dropdown-menu"},Po=["onClick"],Fo=["onClick"],Do={class:"card-text small text-muted"},To={class:"d-flex justify-content-between align-items-center"},Xo={class:"fw-bold text-success"},Uo={class:"text-muted"},Wo={class:"modal fade",id:"planModal",tabindex:"-1","data-bs-backdrop":"static"},Ro={class:"modal-dialog"},$o={class:"modal-content"},Io={class:"modal-header"},No={class:"modal-title"},Oo={class:"modal-body"},jo={class:"mb-3"},Bo={class:"mb-3"},Vo={class:"row"},qo={class:"col-md-6"},Go={class:"mb-3"},Ko={class:"col-md-6"},Qo={class:"mb-3"},Jo={class:"modal-footer"},Ho=["disabled"],Yo={key:0,class:"spinner-border spinner-border-sm me-1"},zo={key:1,class:"fas fa-save me-1"};function Zo(e,s,a,o,r,i){return(0,l.uX)(),(0,l.CE)("div",jl,[s[45]||(s[45]=(0,l.Lk)("div",{class:"row mb-4"},[(0,l.Lk)("div",{class:"col-12"},[(0,l.Lk)("h2",null,[(0,l.Lk)("i",{class:"fas fa-user-edit me-2"}),(0,l.eW)(" Manage Model ")]),(0,l.Lk)("p",{class:"text-muted"},"Create and manage your model profile")])],-1)),(0,l.Lk)("div",Bl,[(0,l.Lk)("div",Vl,[(0,l.Lk)("div",ql,[s[33]||(s[33]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-user me-2"}),(0,l.eW)(" Model Information ")])],-1)),(0,l.Lk)("div",Gl,[(0,l.Lk)("form",{onSubmit:s[9]||(s[9]=(0,t.D$)((...e)=>i.saveModel&&i.saveModel(...e),["prevent"]))},[(0,l.Lk)("div",Kl,[(0,l.Lk)("div",Ql,[(0,l.Lk)("div",Jl,[s[19]||(s[19]=(0,l.Lk)("label",{for:"name",class:"form-label"},"First Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":s[0]||(s[0]=e=>r.modelForm.name=e),required:""},null,512),[[t.Jo,r.modelForm.name]])])]),(0,l.Lk)("div",Hl,[(0,l.Lk)("div",Yl,[s[20]||(s[20]=(0,l.Lk)("label",{for:"surname",class:"form-label"},"Last Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"surname","onUpdate:modelValue":s[1]||(s[1]=e=>r.modelForm.surname=e),required:""},null,512),[[t.Jo,r.modelForm.surname]])])])]),(0,l.Lk)("div",zl,[s[21]||(s[21]=(0,l.Lk)("label",{for:"bio",class:"form-label"},"Bio *",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",id:"bio","onUpdate:modelValue":s[2]||(s[2]=e=>r.modelForm.bio=e),rows:"4",required:""},null,512),[[t.Jo,r.modelForm.bio]])]),(0,l.Lk)("div",Zl,[(0,l.Lk)("div",eo,[(0,l.Lk)("div",so,[s[22]||(s[22]=(0,l.Lk)("label",{for:"age",class:"form-label"},"Age *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"age","onUpdate:modelValue":s[3]||(s[3]=e=>r.modelForm.age=e),min:"18",max:"100",required:""},null,512),[[t.Jo,r.modelForm.age]])])]),(0,l.Lk)("div",ao,[(0,l.Lk)("div",to,[s[24]||(s[24]=(0,l.Lk)("label",{for:"hairColor",class:"form-label"},"Hair Color *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"hairColor","onUpdate:modelValue":s[4]||(s[4]=e=>r.modelForm.hairColor=e),required:""},[...s[23]||(s[23]=[(0,l.Fv)('<option value="">Select hair color</option><option value="Black">Black</option><option value="Brown">Brown</option><option value="Blonde">Blonde</option><option value="Red">Red</option><option value="Gray">Gray</option><option value="Other">Other</option>',7)])],512),[[t.u1,r.modelForm.hairColor]])])]),(0,l.Lk)("div",lo,[(0,l.Lk)("div",oo,[s[26]||(s[26]=(0,l.Lk)("label",{for:"skinColor",class:"form-label"},"Skin Color *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"skinColor","onUpdate:modelValue":s[5]||(s[5]=e=>r.modelForm.skinColor=e),required:""},[...s[25]||(s[25]=[(0,l.Fv)('<option value="">Select skin color</option><option value="Fair">Fair</option><option value="Light">Light</option><option value="Medium">Medium</option><option value="Olive">Olive</option><option value="Tan">Tan</option><option value="Dark">Dark</option>',7)])],512),[[t.u1,r.modelForm.skinColor]])])])]),(0,l.Lk)("div",ro,[(0,l.Lk)("div",no,[(0,l.Lk)("div",io,[s[27]||(s[27]=(0,l.Lk)("label",{for:"photo",class:"form-label"},"Profile Photo",-1)),(0,l.Lk)("input",{type:"file",class:"form-control",id:"photo",accept:"image/*",onChange:s[6]||(s[6]=(...e)=>i.handlePhotoUpload&&i.handlePhotoUpload(...e))},null,32),s[28]||(s[28]=(0,l.Lk)("div",{class:"form-text"},"Upload a high-quality photo (max 10MB)",-1))])]),(0,l.Lk)("div",co,[(0,l.Lk)("div",mo,[s[29]||(s[29]=(0,l.Lk)("label",{for:"video",class:"form-label"},"Video Preview",-1)),(0,l.Lk)("input",{type:"file",class:"form-control",id:"video",accept:"video/*",onChange:s[7]||(s[7]=(...e)=>i.handleVideoUpload&&i.handleVideoUpload(...e))},null,32),s[30]||(s[30]=(0,l.Lk)("div",{class:"form-text"},"Upload a preview video (max 10MB)",-1))])])]),r.modelForm.photoUrl?((0,l.uX)(),(0,l.CE)("div",uo,[s[31]||(s[31]=(0,l.Lk)("label",{class:"form-label"},"Current Photo",-1)),(0,l.Lk)("div",null,[(0,l.Lk)("img",{src:r.modelForm.photoUrl,class:"img-thumbnail",style:{"max-width":"200px","max-height":"200px"},alt:"Current photo"},null,8,ko)])])):(0,l.Q3)("",!0),(0,l.Lk)("div",ho,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:s[8]||(s[8]=(...e)=>i.resetForm&&i.resetForm(...e))},[...s[32]||(s[32]=[(0,l.Lk)("i",{class:"fas fa-undo me-1"},null,-1),(0,l.eW)(" Reset ",-1)])]),(0,l.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:r.saving},[r.saving?((0,l.uX)(),(0,l.CE)("span",bo)):((0,l.uX)(),(0,l.CE)("i",vo)),(0,l.eW)(" "+(0,n.v_)(r.saving?"Saving...":"Save Model"),1)],8,po)])],32)])])]),(0,l.Lk)("div",fo,[(0,l.Lk)("div",go,[(0,l.Lk)("div",Lo,[s[35]||(s[35]=(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-crown me-2"}),(0,l.eW)(" Subscription Plans ")],-1)),(0,l.Lk)("button",{class:"btn btn-sm btn-primary",onClick:s[10]||(s[10]=(...e)=>i.showAddPlanModal&&i.showAddPlanModal(...e)),disabled:r.plans.length>=4},[...s[34]||(s[34]=[(0,l.Lk)("i",{class:"fas fa-plus me-1"},null,-1),(0,l.eW)(" Add Plan ",-1)])],8,yo)]),(0,l.Lk)("div",wo,[0===r.plans.length?((0,l.uX)(),(0,l.CE)("div",xo,[...s[36]||(s[36]=[(0,l.Lk)("i",{class:"fas fa-crown fa-2x mb-2"},null,-1),(0,l.Lk)("p",{class:"mb-0"},"No plans created yet",-1),(0,l.Lk)("small",null,"Create up to 4 subscription plans",-1)])])):((0,l.uX)(),(0,l.CE)("div",Co,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.plans,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"card mb-3"},[(0,l.Lk)("div",Eo,[(0,l.Lk)("div",Mo,[(0,l.Lk)("h6",So,(0,n.v_)(e.name),1),(0,l.Lk)("div",Ao,[s[39]||(s[39]=(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-bs-toggle":"dropdown"},[(0,l.Lk)("i",{class:"fas fa-ellipsis-v"})],-1)),(0,l.Lk)("ul",_o,[(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item",onClick:s=>i.editPlan(e)},[...s[37]||(s[37]=[(0,l.Lk)("i",{class:"fas fa-edit me-2"},null,-1),(0,l.eW)(" Edit ",-1)])],8,Po)]),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item text-danger",onClick:s=>i.deletePlan(e.id)},[...s[38]||(s[38]=[(0,l.Lk)("i",{class:"fas fa-trash me-2"},null,-1),(0,l.eW)(" Delete ",-1)])],8,Fo)])])])]),(0,l.Lk)("p",Do,(0,n.v_)(e.description),1),(0,l.Lk)("div",To,[(0,l.Lk)("span",Xo,"$"+(0,n.v_)(e.price),1),(0,l.Lk)("small",Uo,(0,n.v_)(e.duration)+" days",1)])])]))),128))]))])])])]),(0,l.Lk)("div",Wo,[(0,l.Lk)("div",Ro,[(0,l.Lk)("div",$o,[(0,l.Lk)("div",Io,[(0,l.Lk)("h5",No,[s[40]||(s[40]=(0,l.Lk)("i",{class:"fas fa-crown me-2"},null,-1)),(0,l.eW)(" "+(0,n.v_)(r.editingPlan?"Edit Plan":"Add New Plan"),1)]),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",onClick:s[11]||(s[11]=(...e)=>i.resetPlanForm&&i.resetPlanForm(...e))})]),(0,l.Lk)("div",Oo,[(0,l.Lk)("form",{onSubmit:s[16]||(s[16]=(0,t.D$)((...e)=>i.savePlan&&i.savePlan(...e),["prevent"]))},[(0,l.Lk)("div",jo,[s[41]||(s[41]=(0,l.Lk)("label",{for:"planName",class:"form-label"},"Plan Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"planName","onUpdate:modelValue":s[12]||(s[12]=e=>r.planForm.name=e),required:""},null,512),[[t.Jo,r.planForm.name]])]),(0,l.Lk)("div",Bo,[s[42]||(s[42]=(0,l.Lk)("label",{for:"planDescription",class:"form-label"},"Description *",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",id:"planDescription","onUpdate:modelValue":s[13]||(s[13]=e=>r.planForm.description=e),rows:"3",required:""},null,512),[[t.Jo,r.planForm.description]])]),(0,l.Lk)("div",Vo,[(0,l.Lk)("div",qo,[(0,l.Lk)("div",Go,[s[43]||(s[43]=(0,l.Lk)("label",{for:"planPrice",class:"form-label"},"Price ($) *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"planPrice","onUpdate:modelValue":s[14]||(s[14]=e=>r.planForm.price=e),min:"0",step:"0.01",required:""},null,512),[[t.Jo,r.planForm.price]])])]),(0,l.Lk)("div",Ko,[(0,l.Lk)("div",Qo,[s[44]||(s[44]=(0,l.Lk)("label",{for:"planDuration",class:"form-label"},"Duration (days) *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"planDuration","onUpdate:modelValue":s[15]||(s[15]=e=>r.planForm.duration=e),min:"1",required:""},null,512),[[t.Jo,r.planForm.duration]])])])])],32)]),(0,l.Lk)("div",Jo,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:s[17]||(s[17]=(...e)=>i.resetPlanForm&&i.resetPlanForm(...e))}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-primary",onClick:s[18]||(s[18]=(...e)=>i.savePlan&&i.savePlan(...e)),disabled:r.savingPlan},[r.savingPlan?((0,l.uX)(),(0,l.CE)("span",Yo)):((0,l.uX)(),(0,l.CE)("i",zo)),(0,l.eW)(" "+(0,n.v_)(r.savingPlan?"Saving...":"Save Plan"),1)],8,Ho)])])])])])}var er={name:"ManagerModel",data(){return{modelForm:{name:"",surname:"",bio:"",age:"",hairColor:"",skinColor:"",photoUrl:null},plans:[],saving:!1,editingPlan:null,planForm:{name:"",description:"",price:"",duration:""},savingPlan:!1}},async mounted(){await this.loadModel(),await this.loadPlans()},methods:{async loadModel(){try{const e=await D.get("/manager/model");if(e.data.model){const s=e.data.model;this.modelForm={name:s.name||"",surname:s.surname||"",bio:s.bio||"",age:s.age||"",hairColor:s.hairColor||"",skinColor:s.skinColor||"",photoUrl:s.photoUrl}}}catch(e){console.error("Error loading model:",e)}},async loadPlans(){try{const e=await D.get("/manager/model");this.plans=e.data.model?.plans||[]}catch(e){console.error("Error loading plans:",e)}},async saveModel(){try{this.saving=!0;const e=new FormData;e.append("name",this.modelForm.name),e.append("surname",this.modelForm.surname),e.append("bio",this.modelForm.bio),e.append("age",this.modelForm.age),e.append("hairColor",this.modelForm.hairColor),e.append("skinColor",this.modelForm.skinColor);await D.post("/manager/model",e,{headers:{"Content-Type":"multipart/form-data"}});this.$swal({icon:"success",title:"Model Saved!",text:"Your model profile has been updated successfully.",confirmButtonText:"Great!"}),await this.loadModel()}catch(e){console.error("Error saving model:",e),this.$swal({icon:"error",title:"Save Failed",text:e.response?.data?.message||"Failed to save model. Please try again.",confirmButtonText:"OK"})}finally{this.saving=!1}},handlePhotoUpload(e){const s=e.target.files[0];s&&(this.modelForm.photoUrl=URL.createObjectURL(s))},handleVideoUpload(e){const s=e.target.files[0];s&&console.log("Video file selected:",s.name)},resetForm(){this.loadModel()},showAddPlanModal(){this.editingPlan=null,this.resetPlanForm();const e=new bootstrap.Modal(document.getElementById("planModal"));e.show()},editPlan(e){this.editingPlan=e,this.planForm={name:e.name,description:e.description,price:e.price,duration:e.duration};const s=new bootstrap.Modal(document.getElementById("planModal"));s.show()},resetPlanForm(){this.planForm={name:"",description:"",price:"",duration:""},this.editingPlan=null},async savePlan(){try{this.savingPlan=!0,this.editingPlan?await D.put(`/manager/plans/${this.editingPlan.id}`,this.planForm):await D.post("/manager/plans",this.planForm),this.$swal({icon:"success",title:"Plan Saved!",text:"Your subscription plan has been saved successfully.",confirmButtonText:"Great!"});const e=bootstrap.Modal.getInstance(document.getElementById("planModal"));e.hide(),await this.loadPlans(),this.resetPlanForm()}catch(e){console.error("Error saving plan:",e),this.$swal({icon:"error",title:"Save Failed",text:e.response?.data?.message||"Failed to save plan. Please try again.",confirmButtonText:"OK"})}finally{this.savingPlan=!1}},async deletePlan(e){const s=await this.$swal({icon:"warning",title:"Delete Plan",text:"Are you sure you want to delete this plan? This action cannot be undone.",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"});if(s.isConfirmed)try{await D.delete(`/manager/plans/${e}`),this.$swal({icon:"success",title:"Plan Deleted!",text:"The subscription plan has been deleted successfully.",confirmButtonText:"OK"}),await this.loadPlans()}catch(a){console.error("Error deleting plan:",a),this.$swal({icon:"error",title:"Delete Failed",text:"Failed to delete plan. Please try again.",confirmButtonText:"OK"})}}}};const sr=(0,x.A)(er,[["render",Zo]]);var ar=sr;const tr={class:"container-fluid py-4"},lr={class:"card"},or={class:"card-body"},rr={key:0,class:"text-center py-3"},nr={key:1,class:"text-center py-5"},ir={key:2},cr={class:"avatar me-3",style:{width:"50px",height:"50px","background-color":"#6f42c1",color:"white",display:"flex","align-items":"center","justify-content":"center","border-radius":"50%"}},dr={class:"flex-grow-1"},mr={class:"mb-1"},ur={class:"text-muted"};function kr(e,s,a,t,o,r){return(0,l.uX)(),(0,l.CE)("div",tr,[s[4]||(s[4]=(0,l.Lk)("div",{class:"row mb-4"},[(0,l.Lk)("div",{class:"col-12"},[(0,l.Lk)("h2",null,[(0,l.Lk)("i",{class:"fas fa-comments me-2"}),(0,l.eW)(" Chat Management ")]),(0,l.Lk)("p",{class:"text-muted"},"Respond to subscriber messages as your model")])],-1)),(0,l.Lk)("div",lr,[s[3]||(s[3]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},"Subscriber Chats")],-1)),(0,l.Lk)("div",or,[o.loading?((0,l.uX)(),(0,l.CE)("div",rr,[...s[0]||(s[0]=[(0,l.Lk)("div",{class:"spinner-border",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):0===o.subscribers.length?((0,l.uX)(),(0,l.CE)("div",nr,[...s[1]||(s[1]=[(0,l.Lk)("i",{class:"fas fa-inbox fa-3x text-muted mb-3"},null,-1),(0,l.Lk)("h4",{class:"text-muted"},"No subscribers yet",-1),(0,l.Lk)("p",{class:"text-muted"},"When users subscribe to your model, their chats will appear here.",-1)])])):((0,l.uX)(),(0,l.CE)("div",ir,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.subscribers,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"d-flex align-items-center mb-3 p-3 border rounded"},[(0,l.Lk)("div",cr,(0,n.v_)(e.user.email.charAt(0).toUpperCase()),1),(0,l.Lk)("div",dr,[(0,l.Lk)("h6",mr,(0,n.v_)(e.user.email),1),(0,l.Lk)("small",ur," Subscribed "+(0,n.v_)(r.formatDate(e.createdAt)),1)]),s[2]||(s[2]=(0,l.Lk)("button",{class:"btn btn-primary btn-sm"},[(0,l.Lk)("i",{class:"fas fa-comment me-1"}),(0,l.eW)(" Open Chat ")],-1))]))),128))]))])])])}var hr={name:"ManagerChats",data(){return{subscribers:[],loading:!0}},async mounted(){await this.fetchSubscribers()},methods:{async fetchSubscribers(){try{this.loading=!0;const e=await D.get("/manager/chats");this.subscribers=e.data.subscribers}catch(e){console.error("Error fetching subscribers:",e)}finally{this.loading=!1}},formatDate(e){const s=new Date(e),a=new Date,t=a-s;return t<864e5?"today":t<1728e5?"yesterday":s.toLocaleDateString()}}};const pr=(0,x.A)(hr,[["render",kr]]);var br=pr;const vr={class:"container-fluid py-4"},fr={class:"row mb-4"},gr={class:"col-lg-3 col-md-6 mb-3"},Lr={class:"card stats-card"},yr={class:"card-body text-center"},wr={class:"mb-1"},xr={class:"col-lg-3 col-md-6 mb-3"},Cr={class:"card stats-card"},Er={class:"card-body text-center"},Mr={class:"mb-1"},Sr={class:"col-lg-3 col-md-6 mb-3"},Ar={class:"card stats-card"},_r={class:"card-body text-center"},Pr={class:"mb-1"},Fr={class:"col-lg-3 col-md-6 mb-3"},Dr={class:"card stats-card"},Tr={class:"card-body text-center"},Xr={class:"mb-1"},Ur={class:"row mb-4"},Wr={class:"col-12"},Rr={class:"card"},$r={class:"card-body"},Ir={class:"row"},Nr={class:"col-md-3 mb-2"},Or={class:"col-md-3 mb-2"},jr={class:"col-md-3 mb-2"},Br={class:"col-md-3 mb-2"},Vr={class:"row"},qr={class:"col-lg-6"},Gr={class:"card"},Kr={class:"card-header d-flex justify-content-between align-items-center"},Qr={class:"badge bg-warning"},Jr={class:"card-body"},Hr={key:0,class:"text-center text-muted py-3"},Yr={key:1},zr={class:"mb-0"},Zr={class:"text-muted"},en=["onClick"],sn=["onClick"];function an(e,s,a,t,o,r){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",vr,[s[19]||(s[19]=(0,l.Lk)("div",{class:"row mb-4"},[(0,l.Lk)("div",{class:"col-12"},[(0,l.Lk)("h2",null,[(0,l.Lk)("i",{class:"fas fa-crown me-2"}),(0,l.eW)(" Admin Dashboard ")]),(0,l.Lk)("p",{class:"text-muted"},"Platform overview and management")])],-1)),(0,l.Lk)("div",fr,[(0,l.Lk)("div",gr,[(0,l.Lk)("div",Lr,[(0,l.Lk)("div",yr,[s[1]||(s[1]=(0,l.Lk)("i",{class:"fas fa-dollar-sign fa-2x mb-2"},null,-1)),(0,l.Lk)("h3",wr,"$"+(0,n.v_)((o.stats.totalRevenue||0).toFixed(2)),1),s[2]||(s[2]=(0,l.Lk)("p",{class:"mb-0"},"Total Revenue",-1))])])]),(0,l.Lk)("div",xr,[(0,l.Lk)("div",Cr,[(0,l.Lk)("div",Er,[s[3]||(s[3]=(0,l.Lk)("i",{class:"fas fa-users fa-2x mb-2"},null,-1)),(0,l.Lk)("h3",Mr,(0,n.v_)(o.stats.totalSubscribers||0),1),s[4]||(s[4]=(0,l.Lk)("p",{class:"mb-0"},"Total Subscribers",-1))])])]),(0,l.Lk)("div",Sr,[(0,l.Lk)("div",Ar,[(0,l.Lk)("div",_r,[s[5]||(s[5]=(0,l.Lk)("i",{class:"fas fa-user-tie fa-2x mb-2"},null,-1)),(0,l.Lk)("h3",Pr,(0,n.v_)(o.stats.totalManagers||0),1),s[6]||(s[6]=(0,l.Lk)("p",{class:"mb-0"},"Active Managers",-1))])])]),(0,l.Lk)("div",Fr,[(0,l.Lk)("div",Dr,[(0,l.Lk)("div",Tr,[s[7]||(s[7]=(0,l.Lk)("i",{class:"fas fa-star fa-2x mb-2"},null,-1)),(0,l.Lk)("h3",Xr,(0,n.v_)(o.stats.totalModels||0),1),s[8]||(s[8]=(0,l.Lk)("p",{class:"mb-0"},"Active Models",-1))])])])]),(0,l.Lk)("div",Ur,[(0,l.Lk)("div",Wr,[(0,l.Lk)("div",Rr,[s[13]||(s[13]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-bolt me-2"}),(0,l.eW)(" Quick Actions ")])],-1)),(0,l.Lk)("div",$r,[(0,l.Lk)("div",Ir,[(0,l.Lk)("div",Nr,[(0,l.bF)(i,{to:"/admin/users",class:"btn btn-primary w-100"},{default:(0,l.k6)(()=>[...s[9]||(s[9]=[(0,l.Lk)("i",{class:"fas fa-users me-2"},null,-1),(0,l.eW)(" Manage Users ",-1)])]),_:1})]),(0,l.Lk)("div",Or,[(0,l.bF)(i,{to:"/admin/models",class:"btn btn-success w-100"},{default:(0,l.k6)(()=>[...s[10]||(s[10]=[(0,l.Lk)("i",{class:"fas fa-star me-2"},null,-1),(0,l.eW)(" Manage Models ",-1)])]),_:1})]),(0,l.Lk)("div",jr,[(0,l.bF)(i,{to:"/admin/chats",class:"btn btn-info w-100"},{default:(0,l.k6)(()=>[...s[11]||(s[11]=[(0,l.Lk)("i",{class:"fas fa-comments me-2"},null,-1),(0,l.eW)(" View Chats ",-1)])]),_:1})]),(0,l.Lk)("div",Br,[(0,l.Lk)("button",{class:"btn btn-warning w-100",onClick:s[0]||(s[0]=(...e)=>r.refreshStats&&r.refreshStats(...e))},[...s[12]||(s[12]=[(0,l.Lk)("i",{class:"fas fa-sync-alt me-2"},null,-1),(0,l.eW)(" Refresh Stats ",-1)])])])])])])])]),(0,l.Lk)("div",Vr,[(0,l.Lk)("div",qr,[(0,l.Lk)("div",Gr,[(0,l.Lk)("div",Kr,[s[14]||(s[14]=(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-clock me-2"}),(0,l.eW)(" Pending Manager Approvals ")],-1)),(0,l.Lk)("span",Qr,(0,n.v_)(o.pendingManagers.length),1)]),(0,l.Lk)("div",Jr,[0===o.pendingManagers.length?((0,l.uX)(),(0,l.CE)("div",Hr,[...s[15]||(s[15]=[(0,l.Lk)("i",{class:"fas fa-check-circle fa-2x mb-2"},null,-1),(0,l.Lk)("p",{class:"mb-0"},"No pending approvals",-1)])])):((0,l.uX)(),(0,l.CE)("div",Yr,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.pendingManagers,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"d-flex justify-content-between align-items-center mb-3 p-2 border rounded"},[(0,l.Lk)("div",null,[(0,l.Lk)("h6",zr,(0,n.v_)(e.user.email),1),(0,l.Lk)("small",Zr," Applied "+(0,n.v_)(r.formatDate(e.createdAt)),1)]),(0,l.Lk)("div",null,[(0,l.Lk)("button",{class:"btn btn-success btn-sm me-2",onClick:s=>r.approveManager(e.id)},[...s[16]||(s[16]=[(0,l.Lk)("i",{class:"fas fa-check me-1"},null,-1),(0,l.eW)(" Approve ",-1)])],8,en),(0,l.Lk)("button",{class:"btn btn-danger btn-sm",onClick:s=>r.rejectManager(e.id)},[...s[17]||(s[17]=[(0,l.Lk)("i",{class:"fas fa-times me-1"},null,-1),(0,l.eW)(" Reject ",-1)])],8,sn)])]))),128))]))])])]),s[18]||(s[18]=(0,l.Fv)('<div class="col-lg-6"><div class="card"><div class="card-header"><h5 class="mb-0"><i class="fas fa-chart-line me-2"></i> Recent Activity </h5></div><div class="card-body"><div class="text-center text-muted py-3"><i class="fas fa-chart-bar fa-2x mb-2"></i><p class="mb-0">Activity tracking coming soon</p></div></div></div></div>',1))])])}var tn={name:"AdminDashboard",data(){return{stats:{},pendingManagers:[]}},computed:{...(0,y.L8)("auth",["user"])},async mounted(){await Promise.all([this.fetchStats(),this.fetchPendingManagers()])},methods:{async fetchStats(){try{const e=await D.get("/admin/dashboard");this.stats=e.data.stats}catch(e){console.error("Error fetching stats:",e)}},async fetchPendingManagers(){try{const e=await D.get("/admin/pending-managers");this.pendingManagers=e.data.pendingManagers}catch(e){console.error("Error fetching pending managers:",e)}},async approveManager(e){try{await D.post(`/admin/approve-manager/${e}`),this.$swal({icon:"success",title:"Manager Approved!",text:"The manager has been approved and can now access their dashboard.",confirmButtonText:"Great!"}),await this.fetchPendingManagers(),await this.fetchStats()}catch(s){console.error("Error approving manager:",s),this.$swal({icon:"error",title:"Approval Failed",text:"Failed to approve manager. Please try again.",confirmButtonText:"OK"})}},async rejectManager(e){const s=await this.$swal({icon:"warning",title:"Reject Manager",text:"Are you sure you want to reject this manager? This will delete their account permanently.",showCancelButton:!0,confirmButtonText:"Yes, reject it!",cancelButtonText:"Cancel"});if(s.isConfirmed)try{await D.delete(`/admin/reject-manager/${e}`),this.$swal({icon:"success",title:"Manager Rejected!",text:"The manager has been rejected and their account has been deleted.",confirmButtonText:"OK"}),await this.fetchPendingManagers(),await this.fetchStats()}catch(a){console.error("Error rejecting manager:",a),this.$swal({icon:"error",title:"Rejection Failed",text:"Failed to reject manager. Please try again.",confirmButtonText:"OK"})}},async refreshStats(){await Promise.all([this.fetchStats(),this.fetchPendingManagers()])},formatDate(e){const s=new Date(e),a=new Date,t=a-s;return t<864e5?"today":t<1728e5?"yesterday":s.toLocaleDateString()}}};const ln=(0,x.A)(tn,[["render",an]]);var on=ln;const rn={class:"container-fluid py-4"};function nn(e,s,a,t,o,r){return(0,l.uX)(),(0,l.CE)("div",rn,[...s[0]||(s[0]=[(0,l.Fv)('<div class="row mb-4"><div class="col-12"><h2><i class="fas fa-users me-2"></i> User Management </h2><p class="text-muted">Manage users, managers, and permissions</p></div></div><div class="card"><div class="card-header"><h5 class="mb-0">All Users</h5></div><div class="card-body"><div class="text-center py-5"><i class="fas fa-users fa-3x text-muted mb-3"></i><h4 class="text-muted">User Management</h4><p class="text-muted">User management interface coming soon!</p><p class="text-muted">This will include user listing, blocking/unblocking, and role management.</p></div></div></div>',2)])])}var cn={name:"AdminUsers"};const dn=(0,x.A)(cn,[["render",nn]]);var mn=dn;const un={class:"container-fluid py-4"};function kn(e,s,a,t,o,r){return(0,l.uX)(),(0,l.CE)("div",un,[...s[0]||(s[0]=[(0,l.Fv)('<div class="row mb-4"><div class="col-12"><h2><i class="fas fa-star me-2"></i> Model Management </h2><p class="text-muted">Manage models and their visibility</p></div></div><div class="card"><div class="card-header"><h5 class="mb-0">All Models</h5></div><div class="card-body"><div class="text-center py-5"><i class="fas fa-star fa-3x text-muted mb-3"></i><h4 class="text-muted">Model Management</h4><p class="text-muted">Model management interface coming soon!</p><p class="text-muted">This will include model listing, blocking/unblocking, and content moderation.</p></div></div></div>',2)])])}var hn={name:"AdminModels"};const pn=(0,x.A)(hn,[["render",kn]]);var bn=pn;const vn={class:"container-fluid py-4"};function fn(e,s,a,t,o,r){return(0,l.uX)(),(0,l.CE)("div",vn,[...s[0]||(s[0]=[(0,l.Fv)('<div class="row mb-4"><div class="col-12"><h2><i class="fas fa-comments me-2"></i> Chat Monitoring </h2><p class="text-muted">Monitor all conversations (read-only)</p></div></div><div class="card"><div class="card-header"><h5 class="mb-0">All Chats</h5></div><div class="card-body"><div class="text-center py-5"><i class="fas fa-comments fa-3x text-muted mb-3"></i><h4 class="text-muted">Chat Monitoring</h4><p class="text-muted">Chat monitoring interface coming soon!</p><p class="text-muted">This will include all conversations, search functionality, and moderation tools.</p></div></div></div>',2)])])}var gn={name:"AdminChats"};const Ln=(0,x.A)(gn,[["render",fn]]);var yn=Ln;const wn=[{path:"/",name:"SocialHome",component:be},{path:"/model/:id",name:"ModelDetail",component:ws,props:!0},{path:"/login",name:"Login",component:Vs},{path:"/register",name:"Register",component:va},{path:"/user",name:"UserDashboard",component:ot,meta:{requiresAuth:!0,role:"USER"}},{path:"/user/chat/:modelId?",name:"UserChat",component:qt,props:!0,meta:{requiresAuth:!0,role:"USER"}},{path:"/manager",name:"ManagerDashboard",component:Ol,meta:{requiresAuth:!0,role:"MANAGER"}},{path:"/manager/model",name:"ManagerModel",component:ar,meta:{requiresAuth:!0,role:"MANAGER"}},{path:"/manager/chats",name:"ManagerChats",component:br,meta:{requiresAuth:!0,role:"MANAGER"}},{path:"/admin",name:"AdminDashboard",component:on,meta:{requiresAuth:!0,role:"ADMIN"}},{path:"/admin/users",name:"AdminUsers",component:mn,meta:{requiresAuth:!0,role:"ADMIN"}},{path:"/admin/models",name:"AdminModels",component:bn,meta:{requiresAuth:!0,role:"ADMIN"}},{path:"/admin/chats",name:"AdminChats",component:yn,meta:{requiresAuth:!0,role:"ADMIN"}},{path:"/dashboard",redirect:()=>{const e=V.getters.user;if(!e)return"/login";switch(e.role){case"USER":return"/user";case"MANAGER":return"/manager";case"ADMIN":return"/admin";default:return"/"}}},{path:"/:pathMatch(.*)*",redirect:"/"}],xn=(0,_.aE)({history:(0,_.LA)(),routes:wn});xn.beforeEach((e,s,a)=>{const t=V.getters.user,l=V.getters.token;if(e.meta.requiresAuth){if(!l||!t)return void a("/login");if(e.meta.role&&t.role!==e.meta.role){switch(t.role){case"USER":a("/user");break;case"MANAGER":a("/manager");break;case"ADMIN":a("/admin");break;default:a("/");break}return}}if("Login"!==e.name&&"Register"!==e.name||!l||!t)a();else switch(t.role){case"USER":a("/user");break;case"MANAGER":a("/manager");break;case"ADMIN":a("/admin");break;default:a("/");break}});var Cn=xn,En=(a(736),a(640));const Mn=(0,t.Ef)(A);Mn.use(En.A),Mn.use(V),Mn.use(Cn),Mn.mount("#app")}},s={};function a(t){var l=s[t];if(void 0!==l)return l.exports;var o=s[t]={exports:{}};return e[t].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(s,t,l,o){if(!t){var r=1/0;for(d=0;d<e.length;d++){t=e[d][0],l=e[d][1],o=e[d][2];for(var n=!0,i=0;i<t.length;i++)(!1&o||r>=o)&&Object.keys(a.O).every(function(e){return a.O[e](t[i])})?t.splice(i--,1):(n=!1,o<r&&(r=o));if(n){e.splice(d--,1);var c=l();void 0!==c&&(s=c)}}return s}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,l,o]}}(),function(){a.d=function(e,s){for(var t in s)a.o(s,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(s){return 0===e[s]};var s=function(s,t){var l,o,r=t[0],n=t[1],i=t[2],c=0;if(r.some(function(s){return 0!==e[s]})){for(l in n)a.o(n,l)&&(a.m[l]=n[l]);if(i)var d=i(a)}for(s&&s(t);c<r.length;c++)o=r[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},t=self["webpackChunksocial_platform_client"]=self["webpackChunksocial_platform_client"]||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))}();var t=a.O(void 0,[504],function(){return a(604)});t=a.O(t)})();
//# sourceMappingURL=app.f26ed35c.js.map